/*!
 * 1DS JS SDK Analytics Web, 3.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
var e=this,t=function(n){"use strict";var o="function",b="object",H="undefined",f="prototype",a="hasOwnProperty",i=Object,s=i[f],t=i.assign,r=i.create,e=i.defineProperty,c=s[a];function l(){return typeof globalThis!==H&&globalThis?globalThis:typeof self!==H&&self?self:typeof window!==H&&window?window:typeof global!==H&&global?global:null}function u(e){throw new TypeError(e)}function p(e){if(r)return r(e);if(null==e)return{};var t=typeof e;function n(){}return t!==b&&t!==o&&u("Object prototype may only be an Object:"+e),n[f]=e,new n}(l()||{}).Symbol,(l()||{}).Reflect;var d=t||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])s[a].call(t,r)&&(e[r]=t[r]);return e},g=function(e,t){return(g=i.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[a](n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}typeof t!==o&&null!==t&&u("Class extends value "+t+" is not a constructor or null"),g(e,t),e[f]=null===t?p(t):(n[f]=t[f],new n)}function m(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}var K,z={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},v="constructor",y="prototype",I="function",T="_dynInstFuncs",C="_isDynProxy",E="_dynClass",N="_dynInstChk",S=N,w="_dfOpts",A="_unknown_",P="__proto__",x="useBaseInst",_="setInstFuncs",k=Object,O=k.getPrototypeOf,R=0;function D(e,t){return e&&k[y].hasOwnProperty.call(e,t)}function L(e){return e&&(e===k[y]||e===Array[y])}function M(e){return L(e)||e===Function[y]}function U(e){if(e){if(O)return O(e);if(e=e[P]||e[y]||(e[v]?e[v][y]:null))return e}return null}function V(e,t){var n=[],i=k.getOwnPropertyNames;if(i)n=i(e);else for(var r in e)"string"==typeof r&&D(e,r)&&n.push(r);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function F(e,t,n){return t!==v&&typeof e[t]===I&&(n||D(e,t))}function B(e){throw new TypeError("DynamicProto: "+e)}function W(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function G(e,t){return D(e,y)?e.name||t||A:((e||{})[v]||{}).name||t||A}function q(e,i,t,n){D(e,y)||B("theClass is an invalid class definition.");var r=e[y];!function(e){if(O)for(var t=[],n=U(i);n&&!M(n)&&!W(t,n);){if(n===e)return 1;t.push(n),n=U(n)}}(r)&&B("["+G(e)+"] is not in class hierarchy of ["+G(i)+"]");var a=null;D(r,E)?a=r[E]:(a="_dynCls$"+G(e,"_")+"$"+R,R++,r[E]=a);var o=q[w],s=!!o[x];s&&n&&n[x]!==undefined&&(s=!!n[x]);var c,l,u,f,p,d,e=(l={},V(c=i,function(e){!l[e]&&F(c,e,!1)&&(l[e]=c[e])}),l);t(i,function(e,t,n,a){function i(e,t,n){var i,r=t[n];return r[C]&&a&&!1!==(i=e[T]||{})[S]&&(r=(i[t[E]]||{})[n]||r),function(){return r.apply(e,arguments)}}var r={};V(n,function(e){r[e]=i(t,n,e)});for(var o=U(e),s=[];o&&!M(o)&&!W(s,o);)V(o,function(e){!r[e]&&F(o,e,!O)&&(r[e]=i(t,o,e))}),s.push(o),o=U(o);return r}(r,i,e,s)),o=!!O&&!!o[_],u=r,a=a,f=i,p=e,n=!1!==(o=o&&n?!!n[_]:o),L(u)||(o=f[T]=f[T]||{},d=o[a]=o[a]||{},!1!==o[S]&&(o[S]=!!n),V(f,function(e){var n,i,r;F(f,e,!1)&&f[e]!==p[e]&&(d[e]=f[e],delete f[e],D(u,e)&&(!u[e]||u[e][C])||(u[e]=(n=u,i=e,(r=function(){var e,t;return(function(e,t,n,i){var r=null;if(e&&D(n,E)){var a=e[T]||{};if((r=(a[n[E]]||{})[t])||B("Missing ["+t+"] "+I),!r[N]&&!1!==a[S]){for(var o=!D(e,t),s=U(e),c=[];o&&s&&!M(s)&&!W(c,s);){var l=s[t];if(l){o=l===i;break}c.push(s),s=U(s)}try{o&&(e[t]=r),r[N]=1}catch(u){a[S]=!1}}}return r}(this,i,n,r)||(typeof(t=(t=n[e=i])===r?U(n)[e]:t)!==I&&B("["+e+"] is not a "+I),t)).apply(this,arguments)})[C]=1,r)))}))}q[w]={setInstFuncs:!0,useBaseInst:!0},(pi=K=K||{})[pi.CRITICAL=1]="CRITICAL",pi[pi.WARNING=2]="WARNING";var j={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104},X="on",Y="attachEvent",J="addEventListener",Q=e,Z=i.freeze;function $(e){return s.toString.call(e)}function ee(e){return e===undefined||typeof e===H}function te(e){return null===e||ee(e)}function ne(e){return!te(e)}function ie(e,t){return e&&c.call(e,t)}function re(e){return typeof e===b}function ae(e){return typeof e===o}function oe(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!te(e))try{te(e[J])?te(e[Y])||(e[Y](X+t,n),r=!0):(e[J](t,n,i),r=!0)}catch(a){}return r}function se(e,t){if(e)for(var n in e)c.call(e,n)&&t.call(e,n,e[n])}function ce(e,t){if(e&&t){var n=t.length,i=e.length;if(e===t)return!0;if(n<=i){for(var r=i-1,a=n-1;0<=a;a--){if(e[r]!=t[a])return!1;r--}return!0}}return!1}function le(e,t){var n=!1;if(e&&t){var i=t.length;if(e===t)return!0;if(e.length>=i){for(var r=0;r<i;r++)if(e[r]!==t[r])return!1;n=!0}}return n}function ue(e,t){return!(!e||!t||!~e.indexOf(t))}function fe(e){return"[object Date]"===$(e)}function pe(e){return"[object Array]"===$(e)}function de(e){return"[object Error]"===$(e)}function ge(e){return"string"==typeof e}function he(e){return"number"==typeof e}function me(e){return"boolean"==typeof e}function ve(e){if(fe(e)){var t=function(e){return 1===(e=""+e).length?"0"+e:e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function ye(e,t,n){var i=e.length;try{for(var r=0;r<i&&!(r in e&&-1===t.call(n||e,e[r],r,e));r++);}catch(a){}}function Ie(e,t,n){var i=e.length,n=n||0;try{for(var r=Math.max(0<=n?n:i-Math.abs(n),0);r<i;r++)if(r in e&&e[r]===t)return r}catch(a){}return-1}function Te(e,t,n){var i=e.length,r=n||e,a=Array(i);try{for(var o=0;o<i;o++)o in e&&(a[o]=t.call(r,e[o],e))}catch(s){}return a}function Ce(e,t,n){var i,r=e.length,a=0;if(3<=arguments.length)i=n;else{for(;a<r&&!(a in e);)a++;i=e[a++]}for(;a<r;)a in e&&(i=t(i,e[a],a,e)),a++;return i}function Ee(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var be=!{toString:null}.propertyIsEnumerable("toString"),Ne=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Se(e){var t=typeof e;t===o||t===b&&null!==e||u("objKeys called on non-object");var n,i=[];for(n in e)e&&c.call(e,n)&&i.push(n);if(be)for(var r=Ne.length,a=0;a<r;a++)e&&c.call(e,Ne[a])&&i.push(Ne[a]);return i}function we(e,t,n,i){if(Q)try{var r={enumerable:!0,configurable:!0};return n&&(r.get=n),i&&(r.set=i),Q(e,t,r),!0}catch(a){}return!1}function Ae(e){return Z?Z(e):e}function Pe(){var e=Date;return e.now?e.now():(new e).getTime()}function xe(e){return de(e)?e.name:""}function _e(e,t,n,i,r){var a=n;return e&&((a=e[t])===n||r&&!r(a)||i&&!i(n)||(e[t]=a=n)),a}function ke(e){return!e}function Oe(e){return!!e}function Re(e){throw Error(e)}function De(i,r,a){if(i&&r&&i!==r&&re(i)&&re(r))for(var e in r)!function(t){var e,n;ge(t)&&(ae(e=r[t])?a&&!a(t,!0,r,i)||(i[t]=(n=t,function(){return r[n].apply(r,arguments)})):a&&!a(t,!1,r,i)||(ie(i,t)&&delete i[t],we(i,t,function(){return r[t]},function(e){r[t]=e})||(i[t]=e)))}(e);return i}function Le(e){return e&&i(t?t({},e):e)}var Me="window",Ue="document",Ve="navigator",Fe="location",Be="console",We="performance",He="JSON",Ke="crypto",ze="msCrypto",Ge="msie",qe="trident/",je=null,Xe=null,Ye=!1,Je=null,Qe=null;function Ze(e,t){var n,i=!1;if(e){try{(i=t in e)||(n=e[f])&&(i=t in n)}catch(r){}if(!i)try{i=!ee((new e)[t])}catch(r){}}return i}function $e(e){var t=l();return t&&t[e]?t[e]:e===Me&&et()?window:null}function et(){return typeof window===b&&window}function tt(){return et()?window:$e(Me)}function nt(){return typeof document===b&&document?document:$e(Ue)}function it(){return!(typeof navigator!==b||!navigator)}function rt(){return it()?navigator:$e(Ve)}function at(e){return e&&Ye&&(e=$e("__mockLocation"))?e:typeof location===b&&location?location:$e(Fe)}function ot(){return $e(We)}function st(){return typeof JSON===b&&JSON||null!==$e(He)}function ct(){return st()?JSON||$e(He):null}function lt(){var e=rt();return!(!e||!e.product)&&"ReactNative"===e.product}function ut(){var e=rt();return!e||e.userAgent===Xe&&null!==je||(e=((Xe=e.userAgent)||"").toLowerCase(),je=ue(e,Ge)||ue(e,qe)),je}function ft(e){var t=Object[f].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":st()&&(n=ct().stringify(e)),t+n}function pt(){return Qe=null===Qe?it()&&!!rt().sendBeacon:Qe}function dt(){return Je=null===Je&&(Je=typeof XDomainRequest!==undefined)&&gt()?Je&&!Ze($e("XMLHttpRequest"),"withCredentials"):Je}function gt(){var e=!1;try{e=!!$e("XMLHttpRequest")}catch(t){}return e}function ht(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var mt=(vt.dataType="MessageData",vt);function vt(e,t,n,i){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e,e="",st()&&(e=ct().stringify(i)),e=(t?" message:"+ht(t):"")+(i?" props:"+ht(e):""),this.message+=e}function yt(e,t){return(e||{}).logger||new It(t)}var It=function ks(n){this.identifier="DiagnosticLogger",this.queue=[];var r=0,o={};q(ks,this,function(a){function e(e,t){return te(e=n[e])?t:e}te(n)&&(n={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,i,r){if(n=new mt(t,n,r=void 0!==r&&r,i),a.enableDebugExceptions())throw n;ee(n.message)||(i=a.consoleLoggingLevel(),r?(r=+n.messageId,!o[r]&&i>=K.WARNING&&(a.warnToConsole(n.message),o[r]=!0)):i>=K.WARNING&&a.warnToConsole(n.message),a.logInternalMessage(e,n))},a.warnToConsole=function(e){var t,n=typeof console!==H?console:$e(Be);n&&(t="log",ae(n[t=n.warn?"warn":t])&&n[t](e))},a.resetInternalMessageCount=function(){r=0,o={}},a.logInternalMessage=function(e,t){var n,i;r>=a.maxInternalMessageLimit()||(n=!0,i="AITR_"+t.messageId,o[i]?n=!1:o[i]=!0,n&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),r++),r===a.maxInternalMessageLimit()&&(t=new mt(j.MessageLimitPerPVExceeded,e="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(t),a.warnToConsole(e))))}})},Tt=(Ct.ParentContextKey="parent",Ct.ChildrenContextKey="childEvts",Ct);function Ct(e,r,t){var n,a=this,o=!1;a.start=Pe(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},ae(r)&&(o=we(a,"payload",function(){return!n&&ae(r)&&(n=r(),r=null),n})),a.getCtx=function(e){return e?(e===Ct.ParentContextKey||e===Ct.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===Ct.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===Ct.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(Ct.ChildrenContextKey);if(pe(t))for(var n=0;n<t.length;n++){var i=t[n];i&&(e+=i.time)}a.time=Pe()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&ae(r)&&(a.payload=r())}}var Et=function Os(t){this.ctx={},q(Os,this,function(n){n.create=function(e,t,n){return new Tt(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&ae(t.perfEvent)&&t.perfEvent(e))},n.setCtx=function(e,t){e&&((n.ctx=n.ctx||{})[e]=t)},n.getCtx=function(e){return(n.ctx||{})[e]}})},bt="CoreUtils.doPerf";function Nt(e,t,n,i,r){if(e){var a=e;if(a=ae(a.getPerfMgr)?a.getPerfMgr():a){var o,s=void 0,e=a.getCtx(bt);try{if(s=a.create(t(),i,r))return e&&s.setCtx&&(s.setCtx(Tt.ParentContextKey,e),e.getCtx&&e.setCtx&&((o=e.getCtx(Tt.ChildrenContextKey))||(o=[],e.setCtx(Tt.ChildrenContextKey,o)),o.push(s))),a.setCtx(bt,s),n(s)}catch(c){s&&s.setCtx&&s.setCtx("exception",c)}finally{s&&a.fire(s),a.setCtx(bt,e)}}}return n()}var St=function(r,t){var a=this,o=null,s=ae(r.processTelemetry),c=ae(r.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return r},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,i){i=i||t;var e=r?r.identifier:"TelemetryPluginChain";Nt(i?i.core():null,function(){return e+":processTelemetry"},function(){if(r&&s){a._hasRun=!0;try{i.setNext(o),c&&r.setNextPlugin(o),o&&(o._hasRun=!1),r.processTelemetry(n,i)}catch(t){var e=o&&o._hasRun;o&&e||i.diagLog().throwInternal(K.CRITICAL,j.PluginException,"Plugin ["+r.identifier+"] failed during processTelemetry - "+ft(t)),o&&!e&&o.processTelemetry(n,i)}}else o&&(a._hasRun=!0,o.processTelemetry(n,i))},function(){return{item:n}},!n.sync)}};function wt(e,t){var n=[];if(e&&0<e.length)for(var i=null,r=0;r<e.length;r++){var a=e[r];a&&ae(a.processTelemetry)&&(a=new St(a,t),n.push(a),i&&i.setNext(a),i=a)}return 0<n.length?n[0]:null}var At=function Rs(e,r,n,t){var i,a,o,s,c=this,l=null;null!==t&&(e&&ae(e.getPlugin)?l=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var a=e.getPlugin();!r&&a!==n||(r=!0,i.push(a)),e=e.getNext()}return r||i.push(n),wt(i,t)}(e,c,t||e.getPlugin()):t?(i=c,o=e,s=!1,(a=t)&&e&&(o=[],ye(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),l=wt(o,i)):ee(t)&&(l=wt(e,c))),c.core=function(){return n},c.diagLog=function(){return yt(n,r)},c.getCfg=function(){return r},c.getExtCfg=function(e,t){var n,i;return void 0===t&&(t={}),!r||(i=r.extensionConfig)&&e&&(n=i[e]),n||t},c.getConfig=function(e,t,n){var i;return void 0===n&&(n=!1),(e=c.getExtCfg(e,null))&&!te(e[t])?i=e[t]:r&&!te(r[t])&&(i=r[t]),te(i)?n:i},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new Rs((e=void 0===e?null:e)||l,r,n,t)}},Pt="extensionConfig",xt="getPlugin",_t=(kt.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},kt);function kt(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&ae(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t=e=void 0===e?null:e;return t||(e=s||new At(null,{},a.core),t=c&&c[xt]?e.createNew(null,c[xt]):e.createNew(null,c)),t},a._baseTelInit=function(e,t,n,i){e&&_e(e,Pt,[],null,te),!i&&t&&(i=t.getProcessTelContext().getNext());var r=c;c&&c[xt]&&(r=c[xt]()),a.core=t,s=new At(i,e,t,r),o=!0}}var Ot="processTelemetry",Rt="priority",Dt="setNextPlugin",Lt="isInitialized";function Mt(t,n){for(var e=[],i=null,r=t.getNext();r;){var a=r.getPlugin();a&&(i&&ae(i[Dt])&&ae(a[Ot])&&i[Dt](a),ae(a[Lt])&&a[Lt]()||e.push(a),i=a,r=r.getNext())}ye(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function Ut(e){return e.sort(function(e,t){var n=0,i=ae(t[Ot]);return ae(e[Ot])?n=i?e[Rt]-t[Rt]:1:i&&(n=-1),n})}var Vt,Ft=(h(Bt,Vt=_t),Bt._staticInit=(we(Lr=Bt.prototype,"ChannelControls",Lr.getChannelControls),void we(Lr,"channelQueue",Lr.getChannelControls)),Bt);function Bt(){var c,i=Vt.call(this)||this;function l(e){e&&0<e.length&&(ye(e=e.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<500&&Re("Channel has invalid priority"+e.identifier)}),c.push(e))}return i.identifier="ChannelControllerPlugin",i.priority=500,q(Bt,i,function(o,s){o.setNextPlugin=function(e){},o.processTelemetry=function(t,n){c&&ye(c,function(e){0<e.length&&i._getTelCtx(n).createNew(e).processNext(t)})},o.getChannelControls=function(){return c},o.initialize=function(t,n,i){var e,r,a;o.isInitialized()||(s.initialize(t,n,i),e=(t||{}).channels,r=i,c=[],e&&ye(e,l),r&&(a=[],ye(r,function(e){500<e.priority&&a.push(e)}),l(a)),ye(c,function(e){return Mt(new At(e,t,n),i)}))}}),i}var Wt="toGMTString",Ht="toUTCString",Kt="cookie",zt="expires",Gt="enabled",qt="isCookieUseDisabled",jt="disableCookiesUsage",Xt="_ckMgr",Yt="",Jt=null,Qt=null,Zt=null,$t=nt(),en={},tn={};function nn(e){return!e||e.isEnabled()}function rn(e,t){var n,i;return e?n=e.getCookieMgr():t&&(n=t.cookieCfg[Xt]||an(t)),n||(i=t,t=(e||{}).logger,(e=an[Xt]||tn[Xt])||(e=an[Xt]=an(i,t),tn[Xt]=e),n=e),n}function an(e,r){var t,n,l=(_e(n=(t=e||tn).cookieCfg=t.cookieCfg||{},"domain",t.cookieDomain,ne,te),_e(n,"path",t.cookiePath||"/",null,te),te(n[Gt])&&(e=void 0,ee(t[qt])||(e=!t[qt]),ee(t[jt])||(e=!t[jt]),n[Gt]=e),n),u=l.path||"/",f=l.domain,i=!1!==l[Gt],p={isEnabled:function(){var e=i&&on(r),t=tn[Xt];return e&&t&&p!==t?nn(t):e},setEnabled:function(e){i=!1!==e},set:function(e,t,n,i,r){var a,o,s,c=!1;return nn(p)&&(a={},-1!=(s=(o=Ee(t||Yt)).indexOf(";"))&&(o=Ee(t.substring(0,s)),a=sn(t.substring(1+s))),_e(a,"domain",i||f,Oe,ee),te(n)||(s=ut(),!ee(a[zt])||0<(t=Pe()+1e3*n)&&((i=new Date).setTime(t),_e(a,zt,cn(i,s?Wt:Ht)||cn(i,s?Wt:Ht)||Yt,Oe)),s||_e(a,"max-age",Yt+n,null,ee)),(n=at())&&"https:"===n.protocol&&(_e(a,"secure",null,null,ee),(Qt=null===Qt?!fn((rt()||{}).userAgent):Qt)&&_e(a,"SameSite","None",null,ee)),_e(a,"path",r||u,null,ee),(l.setCookie||un)(e,ln(o,a)),c=!0),c},get:function(e){var t=Yt;return nn(p)?(l.getCookie||function(e){var t,n=Yt;return $t&&(t=$t[Kt]||Yt,Zt!==t&&(en=sn(t),Zt=t),n=Ee(en[e]||Yt)),n})(e):t},del:function(e,t){return!!nn(p)&&p.purge(e,t)},purge:function(e,t){var n,i=!1;return on(r)&&((n={}).path=t||"/",n[zt]="Thu, 01 Jan 1970 00:00:01 GMT",ut()||(n["max-age"]="0"),(l.delCookie||un)(e,ln(Yt,n)),i=!0),i}};return p[Xt]=p}function on(e){if(null===Jt){Jt=!1;try{Jt=($t||{})[Kt]!==undefined}catch(t){e&&e.throwInternal(K.WARNING,j.CannotAccessCookie,"Cannot access document.cookie - "+xe(t),{exception:ft(t)})}}return Jt}function sn(e){var n={};return e&&e.length&&ye(Ee(e).split(";"),function(e){var t;(e=Ee(e||Yt))&&(-1==(t=e.indexOf("="))?n[e]=null:n[Ee(e.substring(0,t))]=Ee(e.substring(1+t)))}),n}function cn(e,t){return ae(e[t])?e[t]():null}function ln(e,t){var n=e||Yt;return se(t,function(e,t){n+="; "+e+(te(t)?Yt:"="+t)}),n}function un(e,t){$t&&($t[Kt]=e+"="+t)}function fn(e){return!(!ge(e)||!ue(e,"CPU iPhone OS 12")&&!ue(e,"iPad; CPU OS 12")&&!(ue(e,"Macintosh; Intel Mac OS X 10_14")&&ue(e,"Version/")&&ue(e,"Safari"))&&(!ue(e,"Macintosh; Intel Mac OS X 10_14")||!ce(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!ue(e,"Chrome/5")&&!ue(e,"Chrome/6")&&(!ue(e,"UnrealEngine")||ue(e,"Chrome"))&&!ue(e,"UCBrowser/12")&&!ue(e,"UCBrowser/11"))}var pn="_notificationManager";function dn(e,t){return new Et(t)}var gn,hn=function Ds(e){this.listeners=[];var t=!!(e||{}).perfEvtsSendAll;q(Ds,this,function(r){r.addNotificationListener=function(e){r.listeners.push(e)},r.removeNotificationListener=function(e){for(var t=Ie(r.listeners,e);-1<t;)r.listeners.splice(t,1),t=Ie(r.listeners,e)},r.eventsSent=function(t){ye(r.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},r.eventsDiscarded=function(t,n){ye(r.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,n)},0)})},r.eventsSendRequest=function(n,i){ye(r.listeners,function(e){if(e&&e.eventsSendRequest)if(i)setTimeout(function(){return e.eventsSendRequest(n,i)},0);else try{e.eventsSendRequest(n,i)}catch(t){}})},r.perfEvent=function(n){n&&(!t&&n.isChildEvt()||ye(r.listeners,function(e){if(e&&e.perfEvent)if(n.isAsync)setTimeout(function(){return e.perfEvent(n)},0);else try{e.perfEvent(n)}catch(t){}}))}})},mn=(h(vn,gn=Er=function Ls(){var t,l,u,n,i,f=!1;q(Ls,this,function(c){c._extensions=[],l=new Ft,c.logger=p({throwInternal:function(e,t,n,i,r){},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],c.isInitialized=function(){return f},c.initialize=function(e,t,i,n){var r,a;c.isInitialized()&&Re("Core should not be initialized more than once"),e&&!te(e.instrumentationKey)||Re("Please provide instrumentation key"),u=n,c[pn]=n,c.config=e||{},c.config.enablePerfMgr&&_e(c.config,"createPerfMgr",dn),e.extensions=te(e.extensions)?[]:e.extensions,e?!(a=e[Pt])&&te(a)&&(a=ee(r)?{}:r,e[Pt]=a):a=ee(r)?{}:r,a.NotificationManager=n,i&&(c.logger=i),(n=[]).push.apply(n,m(m([],t),e.extensions));var n=Ut(n),o=[],s={};ye(n,function(e){(te(e)||te(e.initialize))&&Re("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&(te(s[t])?s[t]=n:i.warnToConsole("Two extensions have same priority #"+t+" - "+s[t]+", "+n)),(!t||t<l.priority)&&o.push(e)}),n.push(l),o.push(l),n=Ut(n),c._extensions=n,Mt(new At([l],e,c),n),Mt(new At(o,e,c),n),c._extensions=o,0===c.getTransmissionControls().length&&Re("No channels available"),f=!0,c.releaseQueue()},c.getTransmissionControls=function(){return l.getChannelControls()},c.track=function(e){_e(e,"iKey",c.config.instrumentationKey,null,ke),_e(e,"time",ve(new Date),null,ke),_e(e,"ver","4.0",null,te),c.isInitialized()?c.getProcessTelContext().processNext(e):t.push(e)},c.getProcessTelContext=function(){var e=c._extensions,t=e;return e&&0!==e.length||(t=[l]),new At(t,c.config,c)},c.getNotifyMgr=function(){return u||(u=p({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),c[pn]=u),u},c.getCookieMgr=function(){return i=i||an(c.config,c.logger)},c.setCookieMgr=function(e){i=e},c.getPerfMgr=function(){return n||c.config&&c.config.enablePerfMgr&&ae(c.config.createPerfMgr)&&(n=c.config.createPerfMgr(c,c.getNotifyMgr())),n||null},c.setPerfMgr=function(e){n=e},c.eventCnt=function(){return t.length},c.releaseQueue=function(){0<t.length&&(ye(t,function(e){c.getProcessTelContext().processNext(e)}),t=[])}})}),vn);function vn(){var e=gn.call(this)||this;return q(vn,e,function(n,r){function t(e){var t=n.getNotifyMgr();t&&t.eventsDiscarded([e],z.InvalidEvent)}n.initialize=function(e,t,n,i){r.initialize(e,t,n||new It(e),i||new hn(e))},n.track=function(e){Nt(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===e&&(t(e),Re("Invalid telemetry item")),function(){if(te(e.name))throw t(e),Error("telemetry name required")}(),r.track(e)},function(){return{item:e}},!e.sync)},n.addNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.addNotificationListener(e)},n.removeNotificationListener=function(e){var t=n.getNotifyMgr();t&&t.removeNotificationListener(e)},n.pollInternalLogs=function(t){var e=n.config.diagnosticLogInterval;return setInterval(function(){var e=n.logger?n.logger.queue:[];ye(e,function(e){e={name:t||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:ve(new Date),baseType:mt.dataType,baseData:{message:e.message}},n.track(e)}),e.length=0},e=e&&0<e?e:1e4)}}),e}var yn=4294967296,In=4294967295,Tn=!1,Cn=123456789,En=987654321;function bn(e){e<0&&(e>>>=0),Cn=123456789+e&In,En=987654321-e&In,Tn=!0}function Nn(){try{var e=2147483647&Pe();bn((Math.random()*yn^e)+e)}catch(t){}}function Sn(e){return 0<e?Math.floor(wn()/In*(e+1))>>>0:0}function wn(e){var t=(t=$e(Ke)||$e(ze))&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&In:ut()?(Tn||Nn(),An()&In):Math.floor(yn*Math.random()|0);return e||(t>>>=0),t}function An(e){var t=((En=36969*(65535&En)+(En>>16)&In)<<16)+(65535&(Cn=18e3*(65535&Cn)+(Cn>>16)&In))>>>0&In|0;return e||(t>>>=0),t}function Pn(e,t){var n=!1,i=tt();return i&&(n=oe(i,e,t),n=oe(i.body,e,t)||n),(i=nt())&&oe(i,e,t)||n}function xn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Rn,function(e){var t=0|Sn(15);return("x"===e?t:3&t|8).toString(16)})}function _n(){var e=ot();return e&&e.now?e.now():Pe()}function kn(e){void 0===e&&(e=22);for(var t=wn()>>>0,n=0,i="";i.length<e;)i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(wn()<<2&4294967295|3&t)>>>0,n=0);return i}function On(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=wn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&wn())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}var Rn=/[xy]/g,Dn={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},Ln={Normal:1,CostDeferred:2,RealTime:3,Immediate:4},Mn=d(d({},j),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),Un="1DS-Web-JS-3.1.7",Vn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Fn="withCredentials",Bn=((Sa={})[0]=0,Sa[2]=6,Sa[1]=1,Sa[3]=7,Sa[4098]=6,Sa[4097]=1,Sa[4099]=7,Sa),Wn=null,Hn=!!nt(),Kn=!!tt();function zn(e){return!(""===e||te(e))}function Gn(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}function qn(e){return!!(e&&he(e)&&Ln.Normal<=e&&e<=Ln.Immediate)}function jn(e,t,n){if(!t&&!zn(t)||"string"!=typeof e)return null;if("string"==(e=typeof t)||"number"==e||"boolean"==e||pe(t))t={value:t};else if("object"!=e||t.hasOwnProperty("value")){if(te(t.value)||""===t.value||!ge(t.value)&&!he(t.value)&&!me(t.value)&&!pe(t.value))return null}else t={value:n?JSON.stringify(t):t};if(pe(t.value)&&!ti(t.value))return null;if(!te(t.kind)){if(pe(t.value)||!ei(t.kind))return null;t.value=t.value.toString()}return t}function Xn(e,t,n){var i=-1;return ee(e)||(0<t&&(32===t?i=8192:t<=13&&(i=t<<5)),0<=n&&n<=9?(-1===i&&(i=0),i|=n):(e=Bn[ri(e)]||-1,-1!==i&&-1!==e?i|=e:6===e&&(i=e))),i}function Yn(e){return on(null)?Jn(rn(null),e):""}function Jn(e,t,n){var i;return void 0===n&&(n=!0),e&&(i=e.get(t),n&&i&&decodeURIComponent&&(i=decodeURIComponent(i))),i||""}function Qn(e){void 0===e&&(e="D");var t=xn();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function Zn(e,t,n,i,r){var a={},o=!1,s=0,c=arguments.length,l=Object[f],u=arguments;for("[object Boolean]"===l.toString.call(u[0])&&(o=u[0],s++);s<c;s++)se(u[s],function(n,e){o&&e&&re(e)?pe(e)?(a[n]=a[n]||[],ye(e,function(e,t){e&&re(e)?a[n][t]=Zn(!0,a[n][t],e):a[n][t]=e})):a[n]=Zn(!0,a[n],e):a[n]=e});return a}var $n=_n;function ei(e){return e===Dn.NotSet||e>Dn.NotSet&&e<=Dn.Pii_IPV4AddressLegacy||e===Dn.CustomerContent_GenericContent}function ti(e){return 0<e.length}function ni(e){var t=Pn("beforeunload",e),t=Pn("unload",e)||t;return Pn("pagehide",e)||t}function ii(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=$n()}function ri(e){var t,n=0;return null!==e&&e!==undefined&&("string"==(t=typeof e)?n=1:"number"==t?n=2:"boolean"==t?n=3:t===b&&(n=4,pe(e)?(n=4096,0<e.length&&(n|=ri(e[0]))):ie(e,"value")&&(n=8192|ri(e.value)))),n}var ai,oi={Version:"3.1.7",FullVersionString:Un,strUndefined:H,strObject:b,Undefined:H,arrForEach:ye,arrIndexOf:Ie,arrMap:Te,arrReduce:Ce,objKeys:Se,toISOString:ve,isReactNative:lt,isString:ge,isNumber:he,isBoolean:me,isFunction:ae,isArray:pe,isObject:re,strTrim:Ee,isDocumentObjectAvailable:Hn,isWindowObjectAvailable:Kn,isValueAssigned:zn,getTenantId:Gn,isBeaconsSupported:pt,isUint8ArrayAvailable:function(){return Wn=null===Wn?!(ee(Uint8Array)||!ee(e=rt())&&e.userAgent&&(~(e=e.userAgent.toLowerCase()).indexOf("safari")||~e.indexOf("firefox"))&&!~e.indexOf("chrome")||lt()):Wn;var e},isLatency:qn,sanitizeProperty:jn,getISOString:ve,useXDomainRequest:dt,getCommonSchemaMetaData:Xn,cookieAvailable:on,disallowsSameSiteNone:fn,setCookie:function(e,t,n){on(null)&&rn(null).set(e,t,86400*n,null,"/")},deleteCookie:function(e){on(null)&&rn(null).del(e)},getCookie:Yn,createGuid:Qn,extend:Zn,getTime:$n,isValueKind:ei,isArrayValid:ti,objDefineAccessors:we,addPageUnloadEventListener:ni,setProcessTelemetryTimings:ii,addEventHandler:Pn,getFieldValueType:ri,strEndsWith:ce,objForEachKey:se},si={_canUseCookies:undefined,isTypeof:function(e,t){return typeof e===t},isUndefined:ee,isNullOrUndefined:te,hasOwnProperty:ie,isFunction:ae,isObject:re,isDate:fe,isArray:pe,isError:de,isString:ge,isNumber:he,isBoolean:me,toISOString:ve,arrForEach:ye,arrIndexOf:Ie,arrMap:Te,arrReduce:Ce,strTrim:Ee,objCreate:p,objKeys:Se,objDefineAccessors:we,addEventHandler:Pn,dateNow:Pe,isIE:ut,disableCookies:function(){rn(null).setEnabled(!1)},newGuid:xn,perfNow:_n,newId:kn,randomValue:Sn,random32:wn,mwcRandomSeed:function(e){e?bn(e):Nn()},mwcRandom32:An,generateW3CId:On},ci="version",li="properties";function ui(){var e=ai.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",q(ui,e,function(o,s){o.initialize=function(n,i,r,a){Nt(o,function(){return"AppInsightsCore.initialize"},function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var e=n.propertyStorageOverride;if(e&&(!e.getProperty||!e.setProperty))throw Error("Invalid property storage override passed.");n.channels&&ye(n.channels,function(e){e&&ye(e,function(e){e.identifier&&e.version&&(e=e.identifier+"="+e.version,o.pluginVersionStringArr.push(e))})})}o.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&ye(i,function(e){e&&e.identifier&&e.version&&(e=e.identifier+"="+e.version,o.pluginVersionStringArr.push(e))}),o.pluginVersionString=o.pluginVersionStringArr.join(";");try{s.initialize(n,i,r,a)}catch(t){o.logger.throwInternal(K.CRITICAL,Mn.ErrorProvidedChannels,"Channels must be provided through config.channels only")}o.pollInternalLogs("InternalLog")},function(){return{config:n,extensions:i,logger:r,notificationManager:a}})},o.track=function(n){Nt(o,function(){return"AppInsightsCore.track"},function(){var e,t=n;t&&(t.timings=t.timings||{},t.timings.trackStart=$n(),qn(t.latency)||(t.latency=Ln.Normal),(e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=Un,(e=t.baseData=t.baseData||{})[li]||(e[li]={}),(e=e[li])[ci]||(e[ci]=""),""!==o.pluginVersionString&&(e[ci]=o.pluginVersionString)),s.track(t)},function(){return{item:n}},!n.sync)}}),e}var fi,pi=(h(ui,ai=mn),ui);function di(){var e=fi.call(this)||this;return q(di,e,function(a,o){a.initialize=function(e,t,n,i){e&&(e.endpointUrl||(e.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/")),a.getWParam=function(){return Hn?0:-1};try{o.initialize(e,t,n,i)}catch(r){a.logger.throwInternal(K.CRITICAL,Mn.ErrorProvidedChannels,"Channels must be provided through config.channels only")}},a.track=function(e){var t=e;t&&((e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=Un),o.track(t)}}),e}var e=(h(di,fi=Er),di),gi=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function hi(e,t){void 0===t&&(t=gi);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)!function(e,t){if(void 0===t&&(t=gi),e&&!(e.length<4)){for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"==i&&e.length<=256){n=!0;break}return n}}(i[r],t)||(n?n+=","+i[r]:n=i[r]);return n}var mi=(vi.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},vi.prototype._getMetaDataFromDOM=function(e){var t={},n=nt();if(n)for(var i=n&&n.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&(a.name.toLowerCase().indexOf(e)||(t[a.name.replace(e,"")]=a.content))}return t},vi.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=hi(e,this.flightIdNameSpaces))},vi.prototype._getAppExpId=function(){return this.appExpId},vi.prototype._readExpIdFromCookie=function(){var e=Jn(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},vi.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},vi.validateAppExpId=hi,vi._staticInit=void we(vi.prototype,"expId",vi.prototype.getExpId),vi);function vi(e,t){this.core=t,this.appExpId=null,this.flightIdNameSpaces=gi.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=rn(t),this._propertiesConfig=e;var n=nt();n&&(t=n.documentElement,n&&(this.locale=t.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}var yi=function(){},Ii=(Ti.prototype.getLocalId=function(){return this._customLocalId||(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(e=Jn(this._cookieMgr,"MUID"))&&this.setLocalId("t:"+e),undefined);var e},Ti.prototype.setLocalId=function(e){this._customLocalId=e},Ti.cookieSeparator="|",Ti.userCookieName="ai_user",Ti._staticInit=void we(Ti.prototype,"localId",Ti.prototype.getLocalId,Ti.prototype.setLocalId),Ti);function Ti(e,t,n){var i,r;this.core=n,this._propertiesConfig=t,(n=this._cookieMgr=rn(n,e))&&n.isEnabled()&&(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(i=Jn(n,"MUID"))&&this.setLocalId("t:"+i),this._propertiesConfig.enableApplicationInsightsUser&&(!(i=Jn(n,Ti.userCookieName))||0<(r=i.split(Ti.cookieSeparator)).length&&(this.id=r[0]),this.id||(this.id=kn(e&&!ee(e.idLength)?e.idLength:22),r=ve(new Date),this.accountAcquisitionDate=r,e=[this.id,r],r=this._propertiesConfig.cookieDomain||undefined,n.set(Ti.userCookieName,e.join(Ti.cookieSeparator),31536e3,r)))),"undefined"!=typeof navigator&&(this.locale=(n=navigator).userLanguage||n.language)}var Ci="([\\d,.]+)",Ei="Unknown",bi=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],Ni=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function Si(e,t){return~t.indexOf(e)}var wi=(Ai._staticInit=void we(Ai.prototype,"userConsent",Ai.prototype.getUserConsent),Ai);function Ai(e,t){var i=rn(t),r=e||{};q(Ai,this,function(c){var e,t,n=at();!n||(e=n.hostname)&&(c.domain="file:"===n.protocol?"local":e),r.populateBrowserInfo&&(t=r.userAgent,n=(r.userAgentData||{}).brands,(e=rt())&&(t=t||e.userAgent||"",n=n||(e.userAgentData||{}).brands),function(e,t){if(pe(t))try{for(var n=0;n<Ni.length;n++){var i=function(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}(Ni[n].br,t);if(i)return c.browser=Ni[n].b,c.browserVer=i}}catch(s){}var r,a,o;e&&(o=function(e){if(e)for(var t=0;t<bi.length;t++)if(Si(bi[t].ua,e))return bi[t].b;return Ei}(e),c.browser=o,c.browserVer=(r=e,"MSIE"===(a=o)?(o=(e=r).match(/MSIE ([\d,.]+)/))?o[1]:(e=e.match(/rv:([\d,.]+)/))?e[1]:void 0:function(e,t){"Safari"===e?e="Version":"Edge"===e&&Si("Edg/",t)&&(e="Edg");var n=t.match(RegExp(e+"/"+Ci));return n||"Opera"===e&&(n=t.match(/OPR\/([\d,.]+)/))?n[1]:Ei}(a,r)))}(t,n),t={h:0,w:0},(n=tt())&&n.screen&&(t.h=screen.height,t.w=screen.width),c.screenRes=t.w+"X"+t.h),c.getUserConsent=function(){return r.userConsented||!!Jn(i,r.userConsentCookieName||"MSCC")},c.getUserConsentDetails=function(){try{var e=r.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(n){}return null},we(c,"userConsent",c.getUserConsent)})}var Pi={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},xi="([\\d,.]+)",_i="([\\d,_,.]+)",ki="Unknown",Oi=[{r:(Lr={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i}).WINPHONE,os:"Windows Phone"},{r:Lr.WINRT,os:"Windows RT"},{r:Lr.WIN,os:"Windows"},{r:Lr.IOS,os:"iOS"},{r:Lr.ANDROID,os:"Android"},{r:Lr.LINUX,os:"Linux"},{r:Lr.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:Lr.OSX,os:"Mac OS X"}];function Ri(e,t){return(e=e.match(RegExp(t+" "+xi)))?Pi[e[1]]||e[1]:ki}function Di(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null}var Li=function(e){var t,n,i,r;e.populateOperatingSystemInfo&&(r=rt()||{},i=e.userAgent||r.userAgent||"",e=e.userAgentData||r.userAgentData||{},i&&(r=function(e){for(var t=0;t<Oi.length;t++){var n=Oi[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&~e.indexOf(n.s))return n.os}return ki}(i.toLowerCase()),this.name=r,this.ver=(t=i,"Windows"===(n=r)?Ri(t,"Windows NT"):"Android"===n?Ri(t,n):"Mac OS X"===n?(r=(i=t).match(RegExp("Mac OS X "+_i)))&&(i=r[1].replace(/_/g,"."))?(r=Di(i))?i.split(r)[0]:i:ki:"iOS"===n&&(t=(n=t).match(RegExp("OS "+_i)))&&(n=t[1].replace(/_/g,"."))?(t=Di(n))?n.split(t)[0]:n:ki)),this.name&&this.name!==ki||!ge(e.platform)||(this.name=e.platform))},Mi=(Ui.prototype.getMsfpc=function(){return Jn(this._cookieMgr,"MSFPC")},Ui.prototype.getAnid=function(){return Jn(this._cookieMgr,"ANON").slice(0,34)},Ui._staticInit=(we(Ui.prototype,"msfpc",Ui.prototype.getMsfpc),void we(Ui.prototype,"anid",Ui.prototype.getAnid)),Ui);function Ui(e,t){this.core=t,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=rn(t)}var Vi=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Fi=function(){var e=0<(t=((e=(new Date).getTimezoneOffset())-(n=e%60))/60)?"-":"+",t=Math.abs(t),n=Math.abs(n);this.tz=e+(t<10?"0"+t:t.toString())+":"+(n<10?"0"+n:n.toString())},Bi=function(){},Wi=(Hi.prototype.setId=function(e){this.customId=e},Hi._staticInit=void we(Hi.prototype,"id",Hi.prototype.getId=function(){return ge(this.customId)?this.customId:this.automaticId},Hi.prototype.setId),Hi);function Hi(){}var Ki,zi,Gi=function(e,t,n,i){e.enableApplicationInsightsTrace&&(this.traceId=t||On(),this.parentId=n,this.name=i,(i=at())&&i.pathname&&(this.name=i.pathname))},qi=Ae({id:"id",ver:"ver",appName:"name",locale:"locale",expId:"expId",env:"env"}),ji=Ae({domain:"domain",browser:"browser",browserVer:"browserVer",screenRes:"screenRes",userConsent:"userConsent",consentDetails:"consentDetails"}),Xi=Ae({locale:"locale",localId:"localId",id:"id"}),Yi=Ae({osName:"name",ver:"ver"}),Ji=Ae({ver:"ver",seq:"seq",installId:"installId",epoch:"epoch"}),Qi=Ae({msfpc:"msfpc",anid:"anid",serviceName:"serviceName"}),Zi=Ae({popSample:"popSample",eventFlags:"eventFlags"}),$i=Ae({tz:"tz"}),er=Ae({sessionId:"sesId"}),tr=Ae({localId:"localId",deviceClass:"deviceClass",make:"make",model:"model"}),nr=Ae({role:"role",roleInstance:"roleInstance",roleVer:"roleVer"}),ir=Ae({traceId:"traceID",traceName:"name",parentId:"parentID"}),rr=Ae({UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SdkExt:"sdk",IntWebExt:"intweb",UtcExt:"utc",LocExt:"loc",CloudExt:"cloud"}),ar="MicrosoftApplicationsTelemetryDeviceId",or=(sr.prototype.getSequenceId=function(){return++this._sequenceId},sr);function sr(e,t){this._sequenceId=0;var n=e.propertyStorageOverride;this.seq=this._sequenceId,this.epoch=wn(!1).toString();var i,r,a=rn(t,e);a.isEnabled()||n?(i=a,r=ar,e=(e=(t=n)?t.getProperty(r)||"":Jn(i,r))||xn(),t=a,i=ar,r=e,n?n.setProperty(i,r):t.set(i,r,31536e3),this.installId=e):a.purge(ar)}function cr(){return Ki=Ki===undefined?!!ur(zi.LocalStorage):Ki}function lr(){return cr()?ur(zi.LocalStorage):null}function ur(e){var t,n,i=null;try{var r=l();if(!r)return null;n=new Date,(i=e===zi.LocalStorage?r.localStorage:r.sessionStorage)&&ae(i.setItem)&&(i.setItem(n,n),t=i.getItem(n)!==n,i.removeItem(n),t&&(i=null))}catch(a){i=null}return i}function fr(e,t,n){var i=lr();if(null!==i)try{return i.setItem(t,n),1}catch(r){Ki=!1,e.throwInternal(K.CRITICAL,Mn.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+r)}}function pr(e,t){var n=lr();if(null!==n)try{return n.getItem(t)}catch(i){Ki=!1,e.throwInternal(K.CRITICAL,Mn.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+i)}return null}(Sa=zi=zi||{})[Sa.LocalStorage=0]="LocalStorage",Sa[Sa.SessionStorage=1]="SessionStorage";var dr=(gr.acquisitionSpan=864e5,gr.renewalSpan=18e5,gr.cookieUpdateInterval=6e4,gr.cookieNameConst="ai_session",gr);function gr(e,t){var c,l,u=yt(e),f=rn(e);q(gr,this,function(o){var e,i={sessionRenewalMs:(e=t).sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength||22}};function r(e){var t,n,i=o.automaticSession;0<(e=e.split("|")).length&&i.setId(e[0]);try{1<e.length&&(t=+e[1],i.acquisitionDate=+new Date(t),i.acquisitionDate=0<i.acquisitionDate?i.acquisitionDate:0),2<e.length&&(n=+e[2],i.renewalDate=+new Date(n),i.renewalDate=0<i.renewalDate?i.renewalDate:0)}catch(r){u.throwInternal(K.CRITICAL,Mn.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+r)}0===i.renewalDate&&u.throwInternal(K.WARNING,Mn.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!ee(n)&&n?me(n)?e.setId(Qn()):e.setId(Qn(n)):e.setId(kn(i&&i.idLength?i.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,s(e.getId(),e.acquisitionDate,e.renewalDate),cr()||u.throwInternal(K.WARNING,Mn.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function s(e,t,n){var i=t+o.config.sessionExpirationMs(),r=n+o.config.sessionRenewalMs(),a=new Date,n=[e,t,n];i<r?a.setTime(i):a.setTime(r),r=o.config.cookieDomain?o.config.cookieDomain():null,f.set(l(),n.join("|")+";expires="+a.toUTCString(),null,r),c=(new Date).getTime()}ae(t.sessionExpirationMs)||(i.sessionExpirationMs=function(){return gr.acquisitionSpan}),ae(t.sessionRenewalMs)||(i.sessionRenewalMs=function(){return gr.renewalSpan}),o.config=i,l=function(){return o.config.namePrefix&&o.config.namePrefix()?gr.cookieNameConst+o.config.namePrefix():gr.cookieNameConst},o.automaticSession=new Wi,o.update=function(){o.automaticSession.getId()||(((i=Yn(l()))&&ae(i.split)||(i=pr(u,l())))&&r(i),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,n=(new Date).getTime(),i=n-e.acquisitionDate>t.sessionExpirationMs(),t=n-e.renewalDate>t.sessionRenewalMs();i||t?a():(!(t=c)||gr.cookieUpdateInterval<n-t)&&(e.renewalDate=n,s(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=(n=o.automaticSession).getId(),t=n.acquisitionDate,n=n.renewalDate;fr(u,l(),[e,t,n].join("|"))}})}var hr,mr=ge,vr=(yr.prototype.getSessionId=function(){var e=this.session;if(e&&mr(e.customId))return e.customId;var t=this.sessionManager;return t.update(),!(t=t.automaticSession)||(t=t.getId())&&mr(t)&&(e.automaticId=t),e.automaticId},yr.prototype.applyApplicationContext=function(e){var t=this.app;_e(e=e.ext[rr.AppExt],qi.id,t.id,mr),_e(e,qi.ver,t.ver,mr),_e(e,qi.appName,t.name,mr),_e(e,qi.locale,t.locale,mr),_e(e,qi.expId,t.getExpId(),mr),_e(e,qi.env,t.env,mr)},yr.prototype.applyUserContext=function(e){var t=this.user;_e(e=e.ext[rr.UserExt],Xi.localId,t.getLocalId(),mr),_e(e,Xi.locale,t.locale,mr),_e(e,Xi.id,t.id,mr)},yr.prototype.applyWebContext=function(e){var t=this.web;_e(e=e.ext[rr.WebExt],ji.domain,t.domain,mr),_e(e,ji.browser,t.browser,mr),_e(e,ji.browserVer,t.browserVer,mr),_e(e,ji.screenRes,t.screenRes,mr),e[ji.userConsent]=t.getUserConsent(),e[ji.consentDetails]=t.getUserConsentDetails()},yr.prototype.applyOsContext=function(e){var t=this.os;_e(e=e.ext[rr.OSExt],Yi.osName,t.name,mr),_e(e,Yi.ver,t.ver,mr)},yr.prototype.applySdkContext=function(e){var t=this.sdk;(e=e.ext[rr.SdkExt])[Ji.seq]=t.getSequenceId(),e[Ji.epoch]=t.epoch,_e(e,Ji.installId,t.installId,mr)},yr.prototype.applyIntWebContext=function(e){var t=this.intWeb;_e(e=e.ext[rr.IntWebExt],Qi.msfpc,t.getMsfpc(),mr),_e(e,Qi.anid,t.getAnid(),mr),_e(e,Qi.serviceName,t.serviceName,mr)},yr.prototype.applyUtcContext=function(e){var t=this.utc;(e=e.ext[rr.UtcExt])[Zi.popSample]=t.popSample,0<t.eventFlags&&(e[Zi.eventFlags]=t.eventFlags)},yr.prototype.applyLocContext=function(e){e.ext[rr.LocExt][$i.tz]=this.loc.tz},yr.prototype.applySessionContext=function(e){e.ext[rr.AppExt][er.sessionId]=this.getSessionId()},yr.prototype.applyDeviceContext=function(e){var t=this.device;_e(e=e.ext[rr.DeviceExt],tr.localId,t.localId,mr),_e(e,tr.make,t.make,mr),_e(e,tr.model,t.model,mr),_e(e,tr.deviceClass,t.deviceClass,mr)},yr.prototype.applyCloudContext=function(e){var t=this.cloud;_e(e=e.ext[rr.CloudExt],nr.role,t.role,mr),_e(e,nr.roleInstance,t.roleInstance,mr),_e(e,nr.roleVer,t.roleVer,mr)},yr.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;_e(e=e.ext[rr.TraceExt],ir.traceId,t.traceId,mr),_e(e,ir.traceName,t.name,mr),_e(e,ir.parentId,t.parentId,mr)},yr);function yr(e,t,n){var i=this;i.app=new mi(t,n),i.cloud=new yi,i.user=new Ii(e,t,n),i.os=new Li(t),i.web=new wi(t,n),i.sdk=new or(e,n),i.intWeb=new Mi(t,n),i.utc=new Vi(t),i.loc=new Fi,i.device=new Bi,i.telemetryTrace=new Gi(t),i.sessionManager=new dr(n,t),i.session=new Wi}function Ir(){var o,i=hr.call(this)||this;i.identifier="SystemPropertiesCollector",i.priority=3,i.version="3.1.7";var s={};return q(Ir,i,function(a,e){a.initialize=function(e,t,n){hr.prototype.initialize.call(i,e,t,n),o=new vr(e,a._getTelCtx().getExtCfg(a.identifier),t)},a.processTelemetry=function(e,t){ii(e,a.identifier),t=a._getTelCtx(t);var n,i,r=e.ext=e.ext||{};e.data=e.data||{},r[rr.AppExt]=r[rr.AppExt]||{},r[rr.UserExt]=r[rr.UserExt]||{},r[rr.WebExt]=r[rr.WebExt]||{},r[rr.OSExt]=r[rr.OSExt]||{},r[rr.SdkExt]=r[rr.SdkExt]||{},r[rr.IntWebExt]=r[rr.IntWebExt]||{},r[rr.UtcExt]=r[rr.UtcExt]||{},r[rr.LocExt]=r[rr.LocExt]||{},r[rr.DeviceExt]=r[rr.DeviceExt]||{},r[rr.TraceExt]=r[rr.TraceExt]||{},r[rr.CloudExt]=r[rr.CloudExt]||{},o.applyApplicationContext(e),o.applyUserContext(e),o.applyWebContext(e),o.applyOsContext(e),o.applySdkContext(e),o.applyIntWebContext(e),o.applyUtcContext(e),o.applyLocContext(e),o.applySessionContext(e),o.applyDeviceContext(e),o.applyAITraceContext(e),o.applyCloudContext(e),ye(Se(r),function(e){0===Se(r[e]).length&&delete r[e]}),n=s,i=e.data,n&&se(n,function(e,t){i[e]||(i[e]=t)}),a.processNext(e,t)},a.getPropertiesContext=function(){return o},a.setProperty=function(e,t){s[e]=t}}),i}var Tr=(h(Ir,hr=_t),Ir),Cr="REAL_TIME",mn="NEAR_REAL_TIME",Er="BEST_EFFORT",br=(Nr.create=function(e,t){return new Nr(e,t)},Nr);function Nr(r,e){var a=e?[].concat(e):[];(e=this).iKey=function(){return r},e.count=function(){return a.length},e.events=function(){return a},e.addEvents=function(e,t){return void 0===t&&(t=!0),e&&0<e.length?(a=t?a.concat(e):e.concat(a),e.length):0},e.split=function(e,t){var n,i=new Nr(r);return e<a.length&&(n=a.length-e,te(t)||(n=t<n?t:n),i.addEvents(a.splice(e,n),!0)),i}}var Sr="metadata",wr=/\./,Ar=function Ms(t,e,I,n){var a="baseData",T=!!n,C=e,E={};q(Ms,this,function(v){function y(e,p,d,g,h,m,v){se(e,function(e,t){var n=null;if(t||zn(t)){var i,r=d,a=e,o=h,s=p;if(T&&!g&&wr.test(e)){var c=e.split("."),l=c.length;if(1<l){for(var o=o&&o.slice(),u=0;u<l-1;u++){var f=c[u],s=s[f]=s[f]||{};r+="."+f,o&&o.push(f)}a=c[l-1]}}(n=g&&((i=E[e=r])===undefined&&(7<=e.length&&(i=le(e,"ext.metadata")||le(e,"ext.web")),E[e]=i),i)||!C||!C.handleField(r,a)?jn(a,t,I):C.value(r,a,t,I))&&(i=n.value,s[a]=i,m&&m(o,a,n),v&&"object"==typeof i&&!pe(i)&&((n=o)&&(n=n.slice()).push(a),y(t,i,r+"."+a,g,n,m,v)))}})}v.createPayload=function(e,t,n,i,r,a){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:i,sendType:a,sendReason:r}},v.appendPayload=function(g,h,m){var e=g&&h&&!g.overflow;return e&&Nt(t,function(){return"Serializer:appendPayload"},function(){for(var e=h.events(),t=g.payloadBlob,n=g.numEvents,i=!1,r=[],a=[],o=g.isBeacon,s=o?65e3:3984588,c=o?65e3:2e6,l=0,u=0;l<e.length;){var f=e[l];if(f){if(m<=n){g.overflow=h.split(l);break}var p=v.getEventBlob(f);if(p&&p.length<=c){var d=p.length;if(s<t.length+d){g.overflow=h.split(l);break}t&&(t+="\n"),t+=p,20<++u&&(t.substr(0,1),u=0),i=!0,n++}else(p?r:a).push(f),e.splice(l,1),l--}l++}r&&0<r.length&&g.sizeExceed.push(br.create(h.iKey(),r)),a&&0<a.length&&g.failedEvts.push(br.create(h.iKey(),a)),i&&(g.batches.push(h),g.payloadBlob=t,g.numEvents=n,o=h.iKey(),-1===Ie(g.apiKeys,o)&&g.apiKeys.push(o))},function(){return{payload:g,theBatch:{iKey:h.iKey(),evts:h.events()},max:m}}),e},v.getEventBlob=function(r){try{return Nt(t,function(){return"Serializer.getEventBlob"},function(){var e={};e.name=r.name,e.time=r.time,e.ver=r.ver,e.iKey="o:"+Gn(r.iKey);var i={},t=r.ext;t&&(e.ext=i,se(t,function(e,t){y(t,i[e]={},"ext."+e,!0,null,null,!0)}));var n=e.data={};return n.baseType=r.baseType,t=n[a]={},y(r.baseData,t,a,!1,[a],function(e,t,n){Pr(i,e,t,n)},!0),y(r.data,n,"data",!1,[],function(e,t,n){Pr(i,e,t,n)},!0),JSON.stringify(e)},function(){return{item:r}})}catch(e){return null}}})};function Pr(e,t,n,i){if(i&&e){var r=Xn(i.value,i.kind,i.propertyType);if(-1<r){var a=e[Sr],o=(o=(a=a||(e[Sr]={f:{}})).f)||(a.f={});if(t)for(var s=0;s<t.length;s++){var c=t[s];o[c]||(o[c]={f:{}});o=o[c].f||(o[c].f={})}o=o[n]={},pe(i.value)?o.a={t:r}:o.t=r}}}function xr(){}var _r=(xr.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!=e&&429!=e||501==e||505==e)},xr.getMillisToBackoffForRetry=function(e){return Math.min(Math.pow(2,e)*(2400+Math.floor(1200*Math.random())),6e5)},xr),kr=function Us(){var c={};q(Us,this,function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{var n=(a=e.split(","),o=[],a&&ye(a,function(e){o.push(Ee(e))}),o);if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)c[n[r]]=Pe()+i}catch(s){return[]}var a,o;return[]},e.isTenantKilled=function(e){var t=c;return t[e=Ee(e)]!==undefined&&t[e]>Pe()||(delete t[e],!1)}})},Or=function Vs(){var t=!0,n=!0,i=!0,r="use-collector-delta",a=!1;q(Vs,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){a||(e?(r=e,a=n=!0):n=!1,t=!0)}})},Rr="POST",Dr="drop",Lr="requeue",Mr="application/x-json-stream",Ur="cache-control",Vr="content-type",Fr="kill-duration",Br="time-delta-millis",Wr=((Sa={})[1]=Lr,Sa[100]=Lr,Sa[200]="sent",Sa[8004]=Dr,Sa[8003]=Dr,Sa);function Hr(e){try{return e.responseText}catch(t){}return""}function Kr(e,t){var n=!1;if(e&&t){var i=Se(e);if(i&&0<i.length)for(var r=t.toLowerCase(),a=0;a<i.length;a++){var o=i[a];if(o&&ie(t,o)&&o.toLowerCase()==r){n=!0;break}}}return n}var zr,Gr=function Fs(h,e,b,N){this._responseHandlers=[];var S,w,A,P,x="?cors=true&content-type="+Mr+"&client-id=NO_AUTH&client-version="+Un,_=new kr,k=!1,O=new Or,R=!1,D=0,L=!0,M=[],U={},V=[],F=null,B=!1,W=!1;q(Fs,this,function(m){var c=!0;function o(e,t){for(var n=0,i=null,r=0;null==i&&r<e.length;)1===(n=e[r])?dt()?i=a:gt()&&(i=l):2===n&&function(e){var t=!1;try{var t=!!$e("fetch"),n=$e("Request");t&&e&&n&&(t=Ze(n,"keepalive"))}catch(i){}return t}(t)?i=s:R&&3===n&&pt()&&(i=u),r++;return i?{_transport:n,_isSync:t,sendPOST:i}:null}function a(e,t,n){var i=new XDomainRequest;i.open(Rr,e.urlString),i.onload=function(){var e=Hr(i);v(t,200,{},e),f(e)},i.onerror=function(){v(t,400,{})},i.ontimeout=function(){v(t,500,{})},i.onprogress=function(){},n?i.send(e.data):S._setTimeoutOverride(function(){i.send(e.data)},0)}function s(e,i,t){var n=((n={body:e.data,method:Rr}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,n);t&&(n.keepalive=!0),c&&(n.credentials="include"),e.headers&&0<Se(e.headers).length&&(n.headers=e.headers),fetch(e.urlString,n).then(function(e){var n={},t="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){t=e}),v(i,e.status,n,t),f(t)})["catch"](function(e){v(i,0,{})})}function l(e,a,s){function o(e,t,n){return e[n]||!t||!t.getResponseHeader||(t=t.getResponseHeader(n))&&(e[n]=Ee(t)),e}function t(e,t){var n,i,r;v(a,e.status,(r={},(n=e).getAllResponseHeaders?(e=n.getAllResponseHeaders(),i={},ge(e)&&ye(Ee(e).split(/[\r\n]+/),function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=Ee(e.substring(0,n)).toLowerCase(),n=Ee(e.substring(1+n)),i[t]=n):i[Ee(e)]=1)}),i):(r=o(r,n,Br),r=o(r,n,Fr),o(r,n,"kill-duration-seconds"))),t)}var n=function(e,t,n,i,r){function a(e,t,n){try{e[t]=n}catch(i){}}void 0===i&&(i=!1),void 0===s&&(r=!1);var o=new XMLHttpRequest;return i&&a(o,Vn,i),n&&a(o,Fn,n),o.open(e,t,!r),n&&a(o,Fn,n),o}(Rr,e.urlString,c,!0,s);se(e.headers,function(e,t){n.setRequestHeader(e,t)}),n.onload=function(){var e=Hr(n);t(n,e),f(e)},n.onerror=function(){t(n)},n.ontimeout=function(){t(n)},n.send(e.data)}function v(e,t,n,i){try{e(t,n,i)}catch(r){S.diagLog().throwInternal(K.WARNING,Mn.SendPostOnCompleteFailure,ft(r))}}function u(i,e,t){var n=200,r=i._thePayload;try{var a,o=rt();o.sendBeacon(i.urlString,i.data)||(r?(a=[],ye(r.batches,function(e){if(a&&e&&0<e.count()){for(var t=e.events(),n=0;n<t.length;n++)if(!o.sendBeacon(i.urlString,F.getEventBlob(t[n]))){a.push(e.split(n));break}}else a.push(e.split(0))}),E(a,8003,r.sendType,!0)):n=0)}catch(s){S.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+s),n=0}finally{v(e,n,{},"")}}function y(e){return 2===e||3===e}function i(e){return W&&y(e)?2:e}function r(){return!k&&D<e}function n(){var e=V;return V=[],e}function p(e,t,n){return e&&0<e.length&&!k&&w[t]&&F&&(0!==t||r()&&(0<n||O.allowRequestSending()))}function d(e){var n={};return e&&ye(e,function(e,t){n[t]={iKey:e.iKey(),evts:e.events()}}),n}function I(o,s,c,l,u){if(o&&0!==o.length)if(k)E(o,1,l);else{l=i(l);try{var e=o,f=0!==l;Nt(A,function(){return"HttpManager:_sendBatches"},function(e){e&&(o=o.slice(0));for(var t=[],n=null,i=$n(),e=w[l]||(f?w[1]:w[0]),r=(W||y(l)||e&&3===e._transport)&&!L&&R&&pt();p(o,l,s);){var a=o.shift();a&&0<a.count()&&(_.isTenantKilled(a.iKey())?t.push(a):(n=n||F.createPayload(s,c,f,r,u,l),F.appendPayload(n,a,h)?null!==n.overflow&&(o=[n.overflow].concat(o),n.overflow=null,g(n,i,$n(),u),i=$n(),n=null):(g(n,i,$n(),u),i=$n(),o=[a].concat(o),n=null)))}n&&g(n,i,$n(),u),0<o.length&&(V=o.concat(V)),E(t,8004,l)},function(){return{batches:d(e),retryCount:s,isTeardown:c,isSynchronous:f,sendReason:u,useSendBeacon:y(l),sendType:l}},!f)}catch(t){S.diagLog().throwInternal(K.WARNING,Mn.CannotSerializeObject,"Unexpected Exception sending batch: "+ft(t))}}}function T(e,t,n){e[t]=e[t]||{},e[t][S.identifier]=n}function g(l,u,f,p){var d,g,h;l&&l.payloadBlob&&0<l.payloadBlob.length&&(d=function(e){var t=x,n="";ye(e.apiKeys,function(e){0<n.length&&(n+=","),n+=e}),0<n.length&&(t+="&apikey="+n),t+="&upload-time="+Pe().toString(),e=function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),i=0;i<n.length;i++){var r=(n[i].ext||{}).intweb||{};if(zn(r.msfpc))return encodeURIComponent(r.msfpc)}return""}(e),zn(e)&&(t=t+"&ext.intweb.msfpc="+e),O.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+O.getClockSkewHeaderValue()),!A.getWParam||0<=(e=A.getWParam())&&(t+="&w="+e);for(var i=0;i<M.length;i++)t+="&"+M[i].name+"="+M[i].value;return t}(l),g=$n(),h="sendAttempt",Nt(A,function(){return"HttpManager:_doPayloadSend"},function(){for(var e=0;e<l.batches.length;e++)for(var t=l.batches[e].events(),n=0;n<t.length;n++){var i,r=t[n];B&&(T(i=r.timings=r.timings||{},"sendEventStart",g),T(i,"serializationStart",u),T(i,"serializationCompleted",f)),0<r[h]?r[h]++:r[h]=1}E(l.batches,1e3+(p||0),l.sendType,!0);var a={data:l.payloadBlob,urlString:d,headers:Zn({},U),_thePayload:l,_sendReason:p};Kr(a.headers,Ur)||(a.headers[Ur]="no-cache, no-store"),Kr(a.headers,Vr)||(a.headers[Vr]=Mr);var o=null,s=!!m.sendHook,c=w[l.sendType];(c=!y(l.sendType)&&l.isBeacon&&2===l.sendReason&&(w[2]||w[3])||c)&&(o=function(e){O.firstRequestSent();var t=function(e,t){!function(e,t,n,i){var r=9e3,a=null,o=!1,s=!1;try{var c,l,u=!0;if(typeof e!==H){if(t&&(O.setClockSkew(t[Br]),c=t[Fr]||t["kill-duration-seconds"],ye(_.setKillSwitchTenants(t["kill-tokens"],c),function(t){ye(n.batches,function(e){e.iKey()===t&&(a=a||[],e=e.split(0),n.numEvents-=e.count(),a.push(e))})})),200==e)return r=200;(!_r.shouldRetryForStatus(e)||n.numEvents<=0)&&(u=!1),r=9e3+e%1e3}u&&(r=100,l=n.retryCnt,0===n.sendType&&(l<b?(o=!0,C(function(){0===n.sendType&&D--,I(n.batches,l+1,n.isTeardown,W?2:n.sendType,5)},W,_r.getMillisToBackoffForRetry(l))):s=!0))}finally{o||(O.setClockSkew(),function(e,t,n,i){try{i&&S._backOffTransmission(),200===t&&(i||e.isSync||S._clearBackOff(),r=e.batches,B&&(a=$n(),ye(r,function(e){var t;e&&0<e.count()&&(e=e.events(),t=a,B&&ye(e,function(e){T(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),E(e.batches,t,e.sendType,!0)}finally{0===e.sendType&&(D--,5!==n&&m.sendQueuedRequests(e.sendType,n))}var r,a}(n,r,i,s)),E(a,8004,n.sendType)}}(e,t,l,p)},n=l.isTeardown||l.isSync;try{c.sendPOST(e,t,n),m.sendListener&&m.sendListener(a,e,n,l.isBeacon)}catch(i){S.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+ft(i)),v(t,0,{})}}),Nt(A,function(){return"HttpManager:_doPayloadSend.sender"},function(){var t,n;o&&(0===l.sendType&&D++,s&&!l.isBeacon&&3!==c._transport?(t={data:a.data,urlString:a.urlString,headers:Zn({},a.headers)},n=!1,Nt(A,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{m.sendHook(t,function(e){n=!0,L||e._thePayload||(e._thePayload=e._thePayload||a._thePayload,e._sendReason=e._sendReason||a._sendReason),o(e)},l.isSync||l.isTeardown)}catch(e){n||o(a)}})):o(a))})},function(){return{thePayload:l,serializationStart:u,serializationCompleted:f,sendReason:p}},l.isSync)),l.sizeExceed&&0<l.sizeExceed.length&&E(l.sizeExceed,8003,l.sendType),l.failedEvts&&0<l.failedEvts.length&&E(l.failedEvts,8002,l.sendType)}function C(e,t,n){t?e():S._setTimeoutOverride(e,n)}function f(e){var t=m._responseHandlers;try{for(var n,i=0;i<t.length;i++)try{t[i](e)}catch(r){S.diagLog().throwInternal(K.CRITICAL,Mn.PostResponseHandler,"Response handler failed: "+r)}!e||zn((n=JSON.parse(e)).webResult)&&zn(n.webResult.msfpc)&&P.set("MSFPC",n.webResult.msfpc,31536e3)}catch(a){}}function E(t,n,i,e){var r,a,o;t&&0<t.length&&N&&(r=N[zn(o=Wr[n])||(o="oth",9e3<=n&&n<=9999?o="rspFail":8e3<=n&&n<=8999?o=Dr:1e3<=n&&n<=1999&&(o="send")),o])&&Nt(A,function(){return"HttpManager:_sendBatchesNotification"},function(){C(function(){try{r.call(N,t,n,a,i)}catch(e){S.diagLog().throwInternal(K.CRITICAL,Mn.NotificationException,"send request notification failed: "+e)}},e||a,0)},function(){return{batches:d(t),reason:n,isSync:a,sendSync:e,sendType:i}},!(a=0!==i))}m.initialize=function(e,t,n,i,r){r=r||{},x=e+x,P=(A=t).getCookieMgr(),B=!A.config.disableEventTimings,e=!!A.config.enableCompoundKey,S=n,t=r.valueSanitizer,n=r.stringifyObjects,ee(r.enableCompoundKey)||(e=!!r.enableCompoundKey),R=!lt(),F=new Ar(A,t,n,e);var a,e=i;i||(L=!1,(a=at())&&a.protocol&&"file:"==a.protocol.toLowerCase()&&(c=!1),a=[],a=lt()?[2,1]:[1,2,3],(r=r.transports)&&(he(r)?a=[r].concat(a):pe(r)&&(a=r.concat(a))),i=o(a,!1),e=o(a,!0),i||S.diagLog().warnToConsole("No available transport to send events")),(a={})[0]=i,a[1]=e||o([1,2,3],!0),a[2]=o([3,2,1],!0)||e,a[3]=o([2,3,1],!0)||e,w=a},m._getDbgPlgTargets=function(){return[w[0],_,F,w]},m.addQueryStringParameter=function(e,t){for(var n=0;n<M.length;n++)if(M[n].name===e)return void(M[n].value=t);M.push({name:e,value:t})},m.addHeader=function(e,t){U[e]=t},m.canSendRequest=function(){return r()&&O.allowRequestSending()},m.sendQueuedRequests=function(e,t){ee(e)&&(e=0),W&&(e=i(e),t=2),p(V,e,0)&&I(n(),0,!1,e,t||0)},m.isCompletelyIdle=function(){return!k&&0===D&&0===V.length},m.setUnloading=function(e){W=e},m.addBatch=function(e){if(e&&0<e.count()){if(_.isTenantKilled(e.iKey()))return!1;V.push(e)}return!0},m.teardown=function(){0<V.length&&I(n(),0,!0,2,2)},m.pause=function(){k=!0},m.resume=function(){k=!1,m.sendQueuedRequests(0,4)},m.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&(te(t)&&(t=1),W&&(t=i(t),n=2),I([e],0,!1,t,n||0))}})},qr=Kn?window:undefined,jr="eventsDiscarded",Xr="overrideInstrumentationKey";function Yr(){var T,e=zr.call(this)||this;e.identifier="PostChannel",e.priority=1011;var C,E,b,N,S,w=!(e.version="3.1.7"),A=[],P=null,x=!1,_=0,k=500,O=0,R=1e4,D={},n=Cr,L=null,M=null,U=0,V=0,F={},B=-1,W=!0,H=!1;return q(Yr,e,function(l,u){function r(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=Ln.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,W&&(e.ext=Le(e.ext),e.baseData&&(e.baseData=Le(e.baseData)),e.data&&(e.data=Le(e.data))),e.sync)if(U||x)e.latency=Ln.RealTime,e.sync=!1;else if(E)return W&&(e=Le(e)),E.sendSynchronousBatch(br.create(e.iKey,[e]),!0===e.sync?1:e.sync,3),0;var n=e.latency,i=O,r=R;n===Ln.Immediate&&(i=_,r=k);var a=!1;i<r?a=!d(e,t):(i=Ln.Normal,r=20,n===Ln.Immediate&&(i=Ln.Immediate,r=1),a=!0,function(e,t,n,i){for(;n<=t;){if((r=c(e,t,!0))&&0<r.count()){var r,a=r.split(0,i);if(0<(r=a.count()))return n===Ln.Immediate?_-=r:O-=r,y(jr,[a],z.QueueFull),1}n++}return g(),0}(e.iKey,e.latency,i,r)&&(a=!d(e,t))),a&&v(jr,[e],z.QueueFull)}function a(e,t,n){return e=h(e,t,n),E.sendQueuedRequests(t,n),e}function o(){0<=B&&h(B,0,S)&&E.sendQueuedRequests(0,S),!(0<_)||M||x||0<=(e=D[n][2])&&(M=s(function(){M=null,a(Ln.Immediate,0,1),o()},e));var e=D[n][1];!L&&!P&&0<=e&&!x&&(0<O?L=s(function(){L=null,a(0===V?Ln.RealTime:Ln.Normal,0,1),V++,V%=2,o()},e):V=0)}function s(e,t){0===t&&U&&(t=1);var n=1e3;return U&&(n=_r.getMillisToBackoffForRetry(U-1)),l._setTimeoutOverride(e,t*n)}function i(){null!==L&&(l._clearTimeoutOverride(L),L=null,V=0)}function f(e,t){i(),P&&(l._clearTimeoutOverride(P),P=null),x||a(Ln.Normal,e,t)}function c(e,t,n){var i=F[t];return!(t=(i=i||F[t=Ln.Normal]).iKeyMap[e])&&n&&(t=br.create(e),i.batches.push(t),i.iKeyMap[e]=t),t}function p(e,t){E.canSendRequest()&&!U&&(t=0<b&&b<O||t)&&null==P&&l.flush(e,null,20)}function d(e,t){var n=(e=W?Le(e):e).latency,i=c(e.iKey,n,!0);return i.addEvents([e],t)&&(n!==Ln.Immediate?(O++,t&&0===e.sendAttempt&&p(!e.sync,0<N&&i.count()>=N)):_++,1)}function g(){for(var n=0,i=0,e=Ln.Normal;e<=Ln.Immediate;e++)!function(t){var e=F[t];e&&e.batches&&ye(e.batches,function(e){t===Ln.Immediate?n+=e.count():i+=e.count()})}(e);O=i,_=n}function h(i,e,t){var r=!1,n=0===e;return!n||E.canSendRequest()?Nt(l.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=Ln.Immediate;i<=n;){var e=F[n];e&&e.batches&&0<e.batches.length&&(ye(e.batches,function(e){E.addBatch(e)?r=r||e&&0<e.count():t=t.concat(e.events()),n===Ln.Immediate?_-=e.count():O-=e.count()}),e.batches=[],e.iKeyMap={}),n--}0<t.length&&v(jr,t,z.KillSwitch),r&&i<=B&&(B=-1,S=0)},function(){return{latency:i,sendType:e,sendReason:t}},!n):(B=0<=B?Math.min(B,i):i,S=Math.max(S,t)),r}function t(){D={REAL_TIME:[2,1,0],NEAR_REAL_TIME:[6,3,0],BEST_EFFORT:[18,9,0]}}function m(e,t){var n=l._notificationManager||{},i=n[e];if(i)try{i.apply(n,t)}catch(r){l.diagLog().throwInternal(K.CRITICAL,Mn.NotificationException,e+" notification failed: "+r)}}function v(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&m(e,[t].concat(n))}function y(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&0<e.length&&ye(e,function(e){e&&0<e.count()&&m(t,[e.events()].concat(n))})}function I(){N=T&&T.disableAutoBatchFlushLimit?0:Math.max(1500,R/6)}t(),F[Ln.Immediate]={batches:[],iKeyMap:{}},F[Ln.RealTime]={batches:[],iKeyMap:{}},F[Ln.CostDeferred]={batches:[],iKeyMap:{}},F[Ln.Normal]={batches:[],iKeyMap:{}},I(),E=new Gr(500,2,1,{requeue:function(e,t){var n=[];ye(e,function(e){e&&0<e.count()&&ye(e.events(),function(e){e&&(e.sync&&(e.latency=Ln.Immediate,e.sync=!1),e.sendAttempt<6?(ii(e,l.identifier),r(e,!1)):n.push(e))})}),0<n.length&&v(jr,n,z.NonRetryableStatus),H&&f(2,2)},send:function(e,t,n){e&&0<e.length&&m("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},sent:function(e,t){y("eventsSent",e,t),o()},drop:function(e,t){y(jr,e,8e3<=t&&t<=8999?t-8e3:z.Unknown)},rspFail:function(e){y(jr,e,z.NonRetryableStatus),o()},oth:function(e,t){y(jr,e,z.Unknown),o()}}),l._getDbgPlgTargets=function(){return[E]},l.initialize=function(o,s,c){Nt(s,function(){return"PostChannel:initialize"},function(){var e=s;u.initialize(o,s,c),l.setInitialized(!1);var t=l._getTelCtx();o.extensionConfig[l.identifier]=o.extensionConfig[l.identifier]||{},T=t.getExtCfg(l.identifier),l._setTimeoutOverride=T.setTimeoutOverride||setTimeout.bind(qr),l._clearTimeoutOverride=T.clearTimeoutOverride||clearTimeout.bind(qr),W=!T.disableOptimizeObj&&!!$e("chrome");var n,i,r=e.getWParam;function a(e){"beforeunload"!==(e||tt().event).type&&(H=!0,E.setUnloading(H)),f(2,2)}e.getWParam=function(){var e=0;return T.ignoreMc1Ms0CookieProcessing&&(e|=2),e|r()},0<T.eventsLimitInMem&&(R=T.eventsLimitInMem),0<T.immediateEventLimit&&(k=T.immediateEventLimit),0<T.autoFlushEventsLimit&&(b=T.autoFlushEventsLimit),I(),T.httpXHROverride&&T.httpXHROverride.sendPOST&&(C=T.httpXHROverride),zn(o.anonCookieName)&&E.addQueryStringParameter("anoncknm",o.anonCookieName),E.sendHook=T.payloadPreprocessor,E.sendListener=T.payloadListener,e=T.overrideEndpointUrl||o.endpointUrl,l._notificationManager=o.extensionConfig.NotificationManager,E.initialize(e,l.core,l,C,T),ni(a),Pn("pagehide",i=a),Pn("visibilitychange",function(e){var t=nt();i&&t&&"hidden"===t.visibilityState&&i(e)}),Pn("pageshow",n=function(e){H=!1,E.setUnloading(H)}),Pn("visibilitychange",function(e){var t=nt();t&&"visible"===t.visibilityState&&n()}),l.setInitialized(!0)},function(){return{coreConfig:o,core:s,extensions:c}})},l.processTelemetry=function(e,t){ii(e,l.identifier);var n=(t=l._getTelCtx(t)).getExtCfg(l.identifier),i=!!T.disableTelemetry,e=e;(i=n?i||!!n.disableTelemetry:i)||w||(T[Xr]&&(e.iKey=T[Xr]),n&&n[Xr]&&(e.iKey=n[Xr]),r(e,!0),H?f(2,2):o()),l.processNext(e,t)},l.setEventQueueLimits=function(e,t){R=0<e?e:1e4,b=0<t?t:0,I();var n=e<O;if(!n&&0<N)for(var i=Ln.Normal;!n&&i<=Ln.RealTime;i++){var r=F[i];r&&r.batches&&ye(r.batches,function(e){e&&e.count()>=N&&(n=!0)})}p(!0,n)},l.teardown=function(){f(2,2),w=!0,E.teardown()},l.pause=function(){i(),x=!0,E.pause()},l.resume=function(){x=!1,E.resume(),o()},l.addResponseHandler=function(e){E._responseHandlers.push(e)},l._loadTransmitProfiles=function(e){i(),t(),n=Cr,o(),se(e,function(e,t){var n,i=t.length;2<=i&&(n=2<i?t[2]:0,t.splice(0,i-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(i=t[0]/t[1],t[0]=Math.ceil(i)*t[1]),0<=n&&0<=t[1]&&n>t[1]&&(n=t[1]),t.push(n),D[e]=t)})},l.flush=function(e,t,n){void 0===e&&(e=!0),x||(i(),n=n||1,e?(h(Ln.Normal,0,n),g(),null==P?P=s(function(){!function i(e,t){a(Ln.Normal,0,t),function n(e){E.isCompletelyIdle()?e():P=s(function(){n(e)},.25)}(function(){e&&e(),0<A.length?P=s(function(){return i(A.shift(),t)},0):(P=null,0<O&&o())})}(t,n)},0):A.push(t)):(a(Ln.Normal,1,n),null!==t&&t!==undefined&&t()))},l.setMsaAuthTicket=function(e){E.addHeader("AuthMsaDeviceTicket",e)},l.hasEvents=function(){return 0<O},l._setTransmitProfile=function(e){n!==e&&D[e]!==undefined&&(i(),n=e,o())},l._backOffTransmission=function(){U<4&&(U++,i(),o())},l._clearBackOff=function(){U&&(U=0,i(),o())}}),e}var Jr=(h(Yr,zr=_t),Yr);function Qr(e,t,n){var i,r,a=t.length,o=(t&&150<(t=Ee(t.toString())).length&&(i=t.substring(0,150),e.throwInternal(K.WARNING,j.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),i||t);if(o.length!==a){for(var s=0,c=o;n[c]!==undefined;)s++,c=o.substring(0,147)+(r="00"+s).substr(r.length-3);o=c}return o}function Zr(e,t,n){var i;return void 0===n&&(n=1024),t&&(n=n||1024,(t=Ee(t)).toString().length>n&&(i=t.toString().substring(0,n),e.throwInternal(K.WARNING,j.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),i||t}function $r(e,t){return ia(e,t,2048,j.UrlTooLong)}function ea(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),e.throwInternal(K.WARNING,j.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function ta(i,e){var r;return e&&(r={},se(e,function(e,t){if(re(t)&&st())try{t=ct().stringify(t)}catch(n){i.throwInternal(K.WARNING,j.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=Zr(i,t,8192),e=Qr(i,e,r),r[e]=t}),e=r),e}function na(n,e){var i;return e&&(i={},se(e,function(e,t){e=Qr(n,e,i),i[e]=t}),e=i),e}function ia(e,t,n,i){var r;return t&&(t=Ee(t)).length>n&&(r=t.substring(0,n),e.throwInternal(K.WARNING,i,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),r||t}function ra(e){var t,n=null;return ae(Event)?n=new Event(e):(t=nt())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function aa(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function oa(e){var t=""+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,r=Math.floor(e/864e5),e=1===(e=""+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n;return(0<r?r+".":"")+(i=i.length<2?"0"+i:i)+":"+n+":"+t+"."+e}var sa,ca="not_specified",la="iKey";(Lr=sa=sa||{})[Lr.LocalStorage=0]="LocalStorage",Lr[Lr.SessionStorage=1]="SessionStorage",(Sa=Na=Na||{})[Sa.AI=0]="AI",Sa[Sa.AI_AND_W3C=1]="AI_AND_W3C",Sa[Sa.W3C=2]="W3C";var ua=undefined;function fa(e){try{if(te(l()))return null;var t=new Date,n=$e(e===sa.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var i=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!i)return n}catch(r){}return null}function pa(){return da()?fa(sa.SessionStorage):null}function da(){return ua=ua===undefined?!!fa(sa.SessionStorage):ua}function ga(e,t){var n=pa();if(null!==n)try{return n.getItem(t)}catch(i){ua=!1,e.throwInternal(K.WARNING,j.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+xe(i),{exception:ft(i)})}return null}function ha(e,t,n){var i=pa();if(null!==i)try{return i.setItem(t,n),1}catch(r){ua=!1,e.throwInternal(K.WARNING,j.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+xe(r),{exception:ft(r)})}}function ma(e,t){var n=pa();if(null!==n)try{return n.removeItem(t),1}catch(i){ua=!1,e.throwInternal(K.WARNING,j.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+xe(i),{exception:ft(i)})}}var va=nt()||{},ya=0,Ia=[null,null,null,null,null];function Ta(e,t){return 0===e||0===t||te(e)||te(t)?null:t-e}var Ca,Ea=(h(ba,Ca=Lr=function(){this.ver=2,this.properties={},this.measurements={}}),ba.envelopeType="Microsoft.ApplicationInsights.{0}.Event",ba.dataType="EventData",ba);function ba(e,t,n,i){var r=Ca.call(this)||this;return r.aiDataContract={ver:1,name:1,properties:0,measurements:0},r.name=Zr(e,t)||ca,r.properties=ta(e,n),r.measurements=na(e,i),r}var Na=function(){},Sa=function(){this.hasFullStack=!0,this.parsedStack=[]},wa="error",Aa="stack",Pa="stackDetails",xa="errorSrc",_a="message",ka="description";function Oa(e,t){var n=e;return n&&!ge(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=ae(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Ra(e,t){var n=e;return e&&((n=n&&!ge(n)&&(e[_a]||e[ka])||n)&&!ge(n)&&(n=Oa(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function Da(e){return e&&e.src&&ge(e.src)&&e.obj&&pe(e.obj)}function La(e){var t=e||"",e=(t=ge(t)?t:ge(t[Aa])?t[Aa]:""+t).split("\n");return{src:t,obj:e}}function Ma(e){var t,n=null;if(e)try{e[Aa]?n=La(e[Aa]):e[wa]&&e[wa][Aa]?n=La(e[wa][Aa]):e.exception&&e.exception[Aa]?n=La(e.exception[Aa]):Da(e)?n=e:Da(e[Pa])?n=e[Pa]:window.opera&&e[_a]?n=function(e){for(var t=[],n=e.split("\n"),i=0;i<n.length;i++){var r=n[i];n[i+1]&&(r+="@"+n[i+1],i++),t.push(r)}return{src:e,obj:t}}(e.message):ge(e)?n=La(e):(t=e[_a]||e[ka]||"",ge(e[xa])&&(t&&(t+="\n"),t+=" from "+e[xa]),t&&(n=La(t)))}catch(i){n=La(i)}return n||{src:"",obj:null}}function Ua(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(i){}return t}function Va(e){if(e)try{if(!ge(e)){var t=Ua(e),n=Oa(e,!1);return n&&"{}"!==n||(e[wa]&&(t=Ua(e=e[wa])),n=Oa(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(i){}return""+(e||"")}var Fa,Ba=(h(Wa,Fa=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),Wa.CreateAutoException=function(e,t,n,i,r,a,o,s){var c=Ua(r||a||e);return{message:Ra(e,c),url:t,lineNumber:n,columnNumber:i,error:Va(r||a||e),evt:Va(a||e),typeName:c,stackDetails:Ma(o||r||a),errorSrc:s}},Wa.CreateFromInterface=function(t,e,n,i){var r=e.exceptions&&Te(e.exceptions,function(e){return Ka.CreateFromInterface(t,e)});return new Wa(t,d(d({},e),{exceptions:r}),n,i)},Wa.prototype.toInterface=function(){var e=this.exceptions,t=this.properties,n=this.measurements,i=this.severityLevel;this.ver;var r=this.problemGroup,a=this.id,o=this.isManual;return{ver:"4.0",exceptions:e instanceof Array&&Te(e,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:t,measurements:n,problemGroup:r,id:a,isManual:o}},Wa.CreateSimpleException=function(e,t,n,i,r,a){return{exceptions:[{hasFullStack:!0,message:e,stack:r,typeName:t}]}},Wa.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Wa.dataType="ExceptionData",Wa.formatError=Va,Wa);function Wa(e,t,n,i,r,a){var o=Fa.call(this)||this;return o.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if(re(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}}(t)?(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,te(t.isManual)||(o.isManual=t.isManual)):(o.exceptions=[new Ka(e,t,n=n||{})],o.properties=ta(e,n),o.measurements=na(e,i),r&&(o.severityLevel=r),a&&(o.id=a)),o}var Ha,Ka=(h(za,Ha=Sa),za.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&Te(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Aa],parsedStack:e||undefined}},za.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&Te(t.parsedStack,function(e){return qa.CreateFromInterface(e)})||t.parsedStack;return new za(e,d(d({},t),{parsedStack:n}))},za);function za(e,t,n){var i,l,r,a,o=Ha.call(this)||this;return o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(re(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}}(t)?(o.typeName=t.typeName,o.message=t.message,o[Aa]=t[Aa],o.parsedStack=t.parsedStack,o.hasFullStack=t.hasFullStack):(l=(i=t)&&i.evt,de(i)||(i=i[wa]||l||i),o.typeName=Zr(e,Ua(i))||ca,o.message=ea(e,Ra(t||i,o.typeName))||ca,l=t[Pa]||Ma(t),o.parsedStack=function(e){if((e=l.obj)&&0<e.length){var t=[],n=0,i=0;if(ye(e,function(e){e=e.toString(),qa.regex.test(e)&&(e=new qa(e,n++),i+=e.sizeInBytes,t.push(e))}),32768<i)for(var r=0,a=t.length-1,o=0,s=r,c=a;r<a;){if(32768<(o+=t[r].sizeInBytes+t[a].sizeInBytes)){t.splice(s,c-s+1);break}s=r,c=a,r++,a--}}return t}(),o[Aa]=(i=e,a="",(e=l)&&(e.obj?ye(e.obj,function(e){a+=e+"\n"}):a=e.src||""),!(l=a)||32768<(e=""+l).length&&(r=e.substring(0,32768),i.throwInternal(K.WARNING,j.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:l},!0)),r||l),o.hasFullStack=pe(o.parsedStack)&&0<o.parsedStack.length,n&&(n.typeName=n.typeName||o.typeName)),o}var Ga,qa=(h(ja,Ga=Na),ja.CreateFromInterface=function(e){return new ja(e,null)},ja.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},ja.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,ja.baseSize=58,ja);function ja(e,t){var n,i=Ga.call(this)||this;return i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof e?(n=e,i.level=t,i.method="<no_method>",i.assembly=Ee(n),i.fileName="",i.line=0,(n=n.match(ja.regex))&&5<=n.length&&(i.method=Ee(n[2])||i.method,i.fileName=Ee(n[4]),i.line=parseInt(n[5])||0)):(i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=ja.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}var Xa,Sa=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}};(Na=Xa={})[Na.Measurement=0]="Measurement",Na[Na.Aggregation=1]="Aggregation";var Ya,Ja=(h(Qa,Ya=function(){this.kind=Xa.Measurement}),Qa);function Qa(){var e=null!==Ya&&Ya.apply(this,arguments)||this;return e.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},e}var Za,$a=(h(eo,Za=Sa),eo.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",eo.dataType="MetricData",eo);function eo(e,t,n,i,r,a,o,s){var c=Za.call(this)||this;c.aiDataContract={ver:1,metrics:1,properties:0};var l=new Ja;return l.count=0<i?i:undefined,l.max=isNaN(a)||null===a?undefined:a,l.min=isNaN(r)||null===r?undefined:r,l.name=Zr(e,t)||ca,l.value=n,c.metrics=[l],c.properties=ta(e,o),c.measurements=na(e,s),c}var to,Lr=(h(no,to=Lr),no);function no(){var e=to.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var io,ro=(h(ao,io=Lr),ao.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",ao.dataType="PageviewData",ao);function ao(e,t,n,i,r,a,o){var s=io.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},s.id=o&&ia(e,o,128,j.IdTooLong).toString(),s.url=$r(e,n),s.name=Zr(e,t)||ca,isNaN(i)||(s.duration=oa(i)),s.properties=ta(e,r),s.measurements=na(e,a),s}var oo,so=(h(co,oo=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),co.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",co.dataType="RemoteDependencyData",co);function co(e,t,n,i,r,a,o,s,c,l,u,f){void 0===c&&(c="Ajax");var p=oo.call(this)||this;p.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},p.id=t,p.duration=oa(r),p.success=a,p.resultCode=o+"",p.type=Zr(e,c);var d,g,h,m,v,y,I,T,C,E,o=(d=e,t=s,o=a=r=i,a=(c=n)&&0<c.length?(g=c,E=(C=Ia)[T=ya],va.createElement?C[T]||(E=C[T]=va.createElement("a")):E={host:(y=!0,I=null,!(v=h=g)||null!=(v=v.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<v.length&&ge(v[2])&&0<v[2].length&&(I=v[2]||"",y&&2<v.length&&(y=(v[1]||"").toLowerCase(),v=v[3]||"",I+=v="http"==y&&":80"===v||"https"==y&&":443"===v?"":v)),(h=I||"")&&null!=(m=h.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i))&&3<m.length&&ge(m[2])&&0<m[2].length?m[2]+(m[3]||""):h)},E.href=g,++T>=C.length&&(T=0),ya=T,E=(s=E).host,a||(null!=s.pathname?("/"!=((n=0===s.pathname.length?"/":s.pathname)[0]||"")&&(n="/"+n),o=s.pathname,Zr(d,t?t+" "+n:n)):Zr(d,c))):E=r,{target:E,name:a,data:o});return p.data=$r(e,i)||o.data,p.target=Zr(e,o.target),l&&(p.target=p.target+" | "+l),p.name=Zr(e,o.name),p.properties=ta(e,u),p.measurements=na(e,f),p}var lo,uo=(h(fo,lo=function(){this.ver=2,this.properties={},this.measurements={}}),fo.envelopeType="Microsoft.ApplicationInsights.{0}.Message",fo.dataType="MessageData",fo);function fo(e,t,n,i,r){var a=lo.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},a.message=ea(e,t=t||ca),a.properties=ta(e,i),a.measurements=na(e,r),n&&(a.severityLevel=n),a}var po,Lr=(h(go,po=Lr),go);function go(){var e=po.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var ho,mo,vo=(h(yo,ho=Lr),yo.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",yo.dataType="PageviewPerformanceData",yo);function yo(e,t,n,i,r,a,o){var s=ho.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},s.url=$r(e,n),s.name=Zr(e,t)||ca,s.properties=ta(e,r),s.measurements=na(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}(Lr=mo=mo||{})[Lr.Verbose=0]="Verbose",Lr[Lr.Information=1]="Information",Lr[Lr.Warning=2]="Warning",Lr[Lr.Error=3]="Error",Lr[Lr.Critical=4]="Critical";var Io=(To.create=function(e,t,n,i,r,a){if(n=Zr(i,n)||ca,te(e)||te(t)||te(n))throw Error("Input doesn't contain all required fields");i="",e[la]&&(i=e[la],delete e[la]);var o={name:n,time:ve(new Date),iKey:i,ext:a||{},tags:[],data:{},baseType:t,baseData:e};return te(r)||se(r,function(e,t){o.data[e]=t}),o},To);function To(){}var Co=function Bs(g,h,t,m){q(Bs,this,function(e){var u,n=null,f=[],p=!1;function d(){t&&ye(t.getTransmissionControls(),function(e){ye(e,function(e){return e.flush(!0)})})}t&&(u=t.logger),e.trackPageView=function(i,r){var a=i.name;!te(a)&&"string"==typeof a||(e=nt(),a=i.name=e&&e.title||"");var e,o=i.uri;if(!te(o)&&"string"==typeof o||(e=at(),o=i.uri=e&&e.href||""),!m.isPerformanceTimingSupported())return g.sendPageViewInternal(i,r),d(),void u.throwInternal(K.WARNING,j.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,l=m.getPerformanceTiming().navigationStart;0<l&&(s=Ta(l,+new Date),m.shouldCollectDuration(s)||(s=undefined)),te(r)||te(r.duration)||(t=r.duration),!h&&isNaN(t)||(isNaN(t)&&((r=r||{}).duration=s),g.sendPageViewInternal(i,r),d(),c=!0),r=r||{},t=function(){var e,t=!1;try{m.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},m.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(r.duration=e.durationMs,g.sendPageViewInternal(i,r)),p||(g.sendPageViewPerformanceInternal(e,r),p=!0)):(r.duration=s,g.sendPageViewInternal(i,r))):0<l&&6e4<Ta(l,+new Date)&&(t=!0,c||(r.duration=6e4,g.sendPageViewInternal(i,r)))}catch(n){u.throwInternal(K.CRITICAL,j.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+xe(n),{exception:ft(n)})}return t},f.push(t),n=n||setInterval(function(){var e=f.slice(0),t=!1;f=[],ye(e,function(e){e()?t=!0:f.push(e)}),0===f.length&&(clearInterval(n),n=null),t&&d()},100)}})},Eo=(bo.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+ft(i))}},bo.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+ft(i)),null}},bo.prototype.startPageVisitTimer=function(e,t){try{var n,i;da()&&(null!=ga(this._logger,this.prevPageVisitDataKeyName)&&Re("Cannot call startPageVisit consecutively without first calling stopPageVisit"),n=new No(e,t),i=ct().stringify(n),ha(this._logger,this.prevPageVisitDataKeyName,i))}catch(r){this._logger.warnToConsole("Call to start failed: "+ft(r))}},bo.prototype.stopPageVisitTimer=function(){try{if(da()){var e=Pe(),t=ga(this._logger,this.prevPageVisitDataKeyName);if(t&&st()){var n=ct().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,ma(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+ft(i)),null}},bo);function bo(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var No=function(e,t){this.pageVisitStartTime=Pe(),this.pageName=e,this.pageUrl=t},So=(wo.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,r=0,a=0,o=0;(t||n)&&(n=t?(i=t.duration,r=0===t.startTime?t.connectEnd:Ta(t.startTime,t.connectEnd),a=Ta(t.requestStart,t.responseStart),o=Ta(t.responseStart,t.responseEnd),Ta(t.responseEnd,t.loadEventEnd)):(i=Ta(n.navigationStart,n.loadEventEnd),r=Ta(n.navigationStart,n.connectEnd),a=Ta(n.requestStart,n.responseStart),o=Ta(n.responseStart,n.responseEnd),Ta(n.responseEnd,n.loadEventEnd)),0===i?this._logger.throwInternal(K.WARNING,j.ErrorPVCalc,"error calculating page view performance.",{total:i,network:r,request:a,response:o,dom:n}):this.shouldCollectDuration(i,r,a,o,n)?i<Math.floor(r)+Math.floor(a)+Math.floor(o)+Math.floor(n)?this._logger.throwInternal(K.WARNING,j.ClientPerformanceMathError,"client performance math error.",{total:i,network:r,request:a,response:o,dom:n}):(e.durationMs=i,e.perfTotal=e.duration=oa(i),e.networkConnect=oa(r),e.sentRequest=oa(a),e.receivedResponse=oa(o),e.domProcessing=oa(n),e.isValid=!0):this._logger.throwInternal(K.WARNING,j.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:r,request:a,response:o,dom:n}))},wo.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?ot().timing:null},wo.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?ot().getEntriesByType("navigation")[0]:null},wo.prototype.isPerformanceNavigationTimingSupported=function(){var e=ot();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},wo.prototype.isPerformanceTimingSupported=function(){var e=ot();return e&&e.timing},wo.prototype.isPerformanceTimingDataReady=function(){var e=ot();return(e=e?e.timing:0)&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},wo.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=(rt()||{}).userAgent,r=!1;if(i)for(var a=0;a<n.length;a++)r=r||!!~i.toLowerCase().indexOf(n[a]);if(r)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},wo);function wo(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Ao="duration",Po="event";function xo(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var _o,Lr=(h(ko,_o=_t),ko.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=aa(e.disableExceptionTracking),e.autoTrackPageVisitTime=aa(e.autoTrackPageVisitTime),e.overridePageViewDuration=aa(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=aa(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=aa(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=aa(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=aa(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=aa(e.enableDebug),e.disableFlushOnBeforeUnload=aa(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=aa(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},ko.Version="2.7.0",ko);function ko(){var v,y,I,T,C,E=_o.call(this)||this;return E.identifier="ApplicationInsightsAnalytics",E.priority=180,E.autoRoutePVDelay=500,q(ko,E,function(h,m){var e=at(!0);T=e&&e.href||"",h.getCookieMgr=function(){return rn(h.core)},h.processTelemetry=function(a,o){Nt(h.core,function(){return h.identifier+":processTelemetry"},function(){var e=!1,t=h._telemetryInitializers.length;o=h._getTelCtx(o);for(var n=0;n<t;++n){var i=h._telemetryInitializers[n];if(i)try{if(!1===i.call(null,a)){e=!0;break}}catch(r){o.diagLog().throwInternal(K.CRITICAL,j.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+xe(r),{exception:ft(r)},!0)}}e||h.processNext(a,o)},function(){return{item:a}},!a.sync)},h.trackEvent=function(e,t){try{var n=Io.create(e,Ea.dataType,Ea.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(K.WARNING,j.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+xe(i),{exception:ft(i)})}},h.startTrackEvent=function(e){try{v.start(e)}catch(t){h.diagLog().throwInternal(K.CRITICAL,j.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+xe(t),{exception:ft(t)})}},h.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(i){h.diagLog().throwInternal(K.CRITICAL,j.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+xe(i),{exception:ft(i)})}},h.trackTrace=function(e,t){try{var n=Io.create(e,uo.dataType,uo.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(K.WARNING,j.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+xe(i),{exception:ft(i)})}},h.trackMetric=function(e,t){try{var n=Io.create(e,$a.dataType,$a.envelopeType,h.diagLog(),t);h.core.track(n)}catch(i){h.diagLog().throwInternal(K.CRITICAL,j.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+xe(i),{exception:ft(i)})}},h.trackPageView=function(e,t){try{var n=e||{};h._pageViewManager.trackPageView(n,d(d(d({},n.properties),n.measurements),t)),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(i){h.diagLog().throwInternal(K.CRITICAL,j.TrackPVFailed,"trackPageView failed, page view will not be collected: "+xe(i),{exception:ft(i)})}},h.sendPageViewInternal=function(e,t,n){var i=nt();i&&(e.refUri=e.refUri===undefined?i.referrer:e.refUri),n=Io.create(e,ro.dataType,ro.envelopeType,h.diagLog(),t,n),h.core.track(n)},h.sendPageViewPerformanceInternal=function(e,t,n){n=Io.create(e,vo.dataType,vo.envelopeType,h.diagLog(),t,n),h.core.track(n)},h.trackPageViewPerformance=function(e,t){try{h._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),h.sendPageViewPerformanceInternal(e,t)}catch(n){h.diagLog().throwInternal(K.CRITICAL,j.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+xe(n),{exception:ft(n)})}},h.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=nt())&&t.title||""),y.start(e)}catch(n){h.diagLog().throwInternal(K.CRITICAL,j.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+xe(n),{exception:ft(n)})}},h.stopTrackPage=function(e,t,n,i){try{var r,a;"string"!=typeof e&&(e=(r=nt())&&r.title||""),"string"!=typeof t&&(t=(a=at())&&a.href||""),y.stop(e,t,n,i),h.config.autoTrackPageVisitTime&&h._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){h.diagLog().throwInternal(K.CRITICAL,j.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+xe(o),{exception:ft(o)})}},h.sendExceptionInternal=function(e,t,n){var i=e.exception||e.error||Error(ca),e=new Ba(h.diagLog(),i,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),n=Io.create(e,Ba.dataType,Ba.envelopeType,h.diagLog(),t,n);h.core.track(n)},h.trackException=function(e,t){try{h.sendExceptionInternal(e,t)}catch(n){h.diagLog().throwInternal(K.CRITICAL,j.TrackExceptionFailed,"trackException failed, exception will not be collected: "+xe(n),{exception:ft(n)})}},h._onerror=function(e){var t,n,i,r=e&&e.error,a=e&&e.evt;try{a||(t=tt())&&(a=t[Po]);var o=e&&e.url||(nt()||{}).URL,s=e.errorSrc||"window.onerror@"+o+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),c={errorSrc:s,url:o,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},l=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!ge(l)||"Script error."!==l&&"Script error"!==l?(e.errorSrc||(e.errorSrc=s),h.trackException({exception:e,severityLevel:mo.Error},c)):(n=Ba.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,e.lineNumber||0,e.columnNumber||0,r,a,null,s),i=c,i=Io.create(n,Ba.dataType,Ba.envelopeType,h.diagLog(),i),h.core.track(i))}catch(u){r=r?r.name+", "+r.message:"null",h.diagLog().throwInternal(K.CRITICAL,j.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+xe(u),{exception:ft(u),errorString:r})}},h.addTelemetryInitializer=function(e){h._telemetryInitializers.push(e)},h.initialize=function(e,t,n,i){if(!h.isInitialized()){if(te(t))throw Error("Error initializing");m.initialize(e,t,n,i),h.setInitialized(!1);var r=h._getTelCtx(),a=h.identifier;h.config=r.getExtCfg(a),(t=ko.getDefaultConfig(e))!==undefined&&se(t,function(e,t){h.config[e]=r.getConfig(a,e,t),h.config[e]===undefined&&(h.config[e]=t)}),h.config.isStorageUseDisabled&&(ua=!1),i={instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return h.config.accountId||e.accountId},sessionRenewalMs:function(){return h.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return h.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return h.config.samplingPercentage||e.samplingPercentage},sdkExtension:function(){return h.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return h.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return h.config.appId||e.appId}},h._pageViewPerformanceManager=new So(h.core),h._pageViewManager=new Co(E,h.config.overridePageViewDuration,h.core,h._pageViewPerformanceManager),h._pageVisitTimeManager=new Eo(h.diagLog(),function(e,t,n){h.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},t={PageName:e,PageUrl:t})}),h._telemetryInitializers=h._telemetryInitializers||[],i.isBrowserLinkTrackingEnabled()||(g=["/browserLinkSignalR/","/__browserLink/"],h._telemetryInitializers.push(function(e){if(e.baseType===so.dataType){var t=e.baseData;if(t)for(var n=0;n<g.length;n++)if(t.target&&~t.target.indexOf(g[n]))return!1}return!0})),(v=new Oo(h.diagLog(),"trackEvent")).action=function(e,t,n,i){(i=i||{})[Ao]=n.toString(),h.trackEvent({name:e,properties:i})},(y=new Oo(h.diagLog(),"trackPageView")).action=function(e,t,n,i,r){(i=te(i)?{}:i)[Ao]=n.toString(),h.sendPageViewInternal({name:e,uri:t,properties:i,measurements:r},i)};var s,o,c,l,u,f=tt(),t=typeof history===b&&history?history:$e("history"),p=at(!0),d=E;!1===h.config.disableExceptionTracking&&!h.config.autoExceptionInstrumented&&f&&(s=f.onerror,f.onerror=function(e,t,n,i,r){var a=f[Po],o=s&&s(e,t,n,i,r);return!0!==o&&d._onerror(Ba.CreateAutoException(e,t,n,i,r,a)),o},h.config.autoExceptionInstrumented=!0),!1===h.config.disableExceptionTracking&&!0===h.config.enableUnhandledPromiseRejectionTracking&&!h.config.autoUnhandledPromiseInstrumented&&f&&(o=f[i="onunhandledrejection"],f[i]=function(e){var t=f[Po],n=o&&o.call(f,e);return!0!==n&&d._onerror(Ba.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!ge(t)&&ae(t.toString)?t.toString():ft(t)}return e||""}(e),p?p.href:"",0,0,e,t)),n},h.config.autoUnhandledPromiseInstrumented=!0),!0===h.config.enableAutoRouteTracking&&t&&ae(t.pushState)&&ae(t.replaceState)&&f&&"undefined"!=typeof Event&&(c=E,ye(n,function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(I=e)}),t.pushState=(u=t.pushState,function(){var e=u.apply(this,arguments);return xo(f,ra(c.config.namePrefix+"pushState")),xo(f,ra(c.config.namePrefix+"locationchange")),e}),t.replaceState=(l=t.replaceState,function(){var e=l.apply(this,arguments);return xo(f,ra(c.config.namePrefix+"replaceState")),xo(f,ra(c.config.namePrefix+"locationchange")),e}),f.addEventListener&&(f.addEventListener(c.config.namePrefix+"popstate",function(){xo(f,ra(c.config.namePrefix+"locationchange"))}),f.addEventListener(c.config.namePrefix+"locationchange",function(){var e;I&&I.context&&I.context.telemetryTrace&&(I.context.telemetryTrace.traceID=On(),e="_unknown_",p&&p.pathname&&(e=p.pathname+(p.hash||"")),I.context.telemetryTrace.name=e),C&&(T=C),C=p&&p.href||"",setTimeout((function(e){c.trackPageView({refUri:e,properties:{duration:0}})}).bind(E,T),c.autoRoutePVDelay)}))),h.setInitialized(!0)}var g}}),E}var Oo=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(K.WARNING,j.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,i){var r=s[e];isNaN(r)?a.throwInternal(K.WARNING,j.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(r=Ta(r,+new Date),o.action(e,t,r,n,i)),delete s[e],s[e]=undefined}};function Ro(n){se(n,function(e,t){zn(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function Do(e,t,n){var i=e;if(i){for(;!t(i,n);)if(!(i=i.parentNode)||!i.getAttribute)return null;return i}}function Lo(e){return"A"===e.nodeName}function Mo(e){return zn(Uo(e,"data-bi-dnt"))}function Uo(e,t){return Do(e,Vo,t)}function Vo(e,t){return zn(e=e.getAttribute(t))||""===e}function Fo(e){return"["+e+"]"}function Bo(n,i,r,a){var o;return function(){var e=arguments,t=!o;clearTimeout(o),o=setTimeout(function(){o=0,i&&i.apply(a,e)},r),t&&n&&n.apply(a,e)}}function Wo(){var e=tt(),t=nt();return t&&e?{h:parseInt(t.body.scrollLeft||t.documentElement.scrollLeft||e.pageXOffset,10),v:parseInt(t.body.scrollTop||t.documentElement.scrollTop||e.pageYOffset,10)}:{h:0,v:0}}function Ho(){var e,t={h:0,w:0},n=tt(),i=nt();return n&&i&&n.screen&&(e=i.body||{},i=i.documentElement||{},t.h=n.innerHeight||e.clientHeight||i.clientHeight,t.w=n.innerWidth||e.clientWidth||i.clientWidth),t}var Ko,zo={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"};(_t=Ko={})[_t.PAGE_ACTION=0]="PAGE_ACTION",_t[_t.CONTENT_UPDATE=1]="CONTENT_UPDATE";var Go={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function qo(e){if(e&&e.attributes)try{var t=e.getAttribute("data-dc");return zn(t)&&"pii"==t.toLowerCase()}catch(n){return}}function jo(e,t){var n,i="",r={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:ye(o,function(e){"ANON"!==e&&a.push(e)});try{try{Kn&&window.varCustomerCookies&&0<window.varCustomerCookies.length&&(a=a.concat(window.varCustomerCookies))}catch(s){t.throwInternal(K.CRITICAL,Mn.FailedToGetCookies,"Failed to get cookies ")}ye(a,function(e){r.hasOwnProperty(e)||(r[e]="",Hn&&""!==(n=decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(i+=e+"="+n+";"))})}catch(s){t.throwInternal(K.CRITICAL,Mn.FailedToGetCookies,"Failed to get cookies ")}return i}function Xo(t){!function n(e){var t=nt()||{};/in/.test(t.readyState)?setTimeout(function(){n(e)},100):e.call()}(function(){var e;Hn&&"complete"===document.readyState?t():(e=tt())&&(e.addEventListener?e.addEventListener("load",function(){t()}):e.attachEvent&&e.attachEvent("onload",function(){t()}))})}var Yo={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},Jo={parentId:"parentId",parentName:"parentName"},Qo={parentId:"pI",parentName:"pN"},Zo=($o.prototype.getMetadata=function(){var e={},t={};return Hn&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),Zn(!0,t,e)},$o.prototype.getVisibleContent=function(){var e,t,n,i,r,a,o=Ho(),s={top:0,bottom:o.h,left:0,right:o.w},c=null,l=[];if(c=Hn?document.querySelectorAll(Fo(this._contentBlobFieldNames.areaName)+","+Fo(this._contentBlobFieldNames.slotNumber)+","+Fo(this._config.biBlobAttributeTag)):c)for(var u=0;u<c.length;u++){var f=c[u];Mo(f)||(e=s,0,!(0<(t=(a=f.getBoundingClientRect()).left,n=a.top,i=a.right,r=a.bottom,a=e.top,Math.max(0,Math.min(i,e.right)-Math.max(t,e.left))*Math.max(0,Math.min(r,e.bottom)-Math.max(n,a)))))||(f=this.getElementContent(f,Ko.CONTENT_UPDATE))&&l.push(f)}return l},$o.prototype.getElementContent=function(e,t){if(!e)return{};var n,i,r,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){i=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(K.CRITICAL,Mn.CannotParseBiBlobValue,"Can not parse "+i)}}else this._isTrackedWithDataBi(e)&&(a=Zn(a,this._populateElementContentwithDataBi(r=e,e)));else if(i=(n=Uo(e,this._config.biBlobAttributeTag))?n.getAttribute(this._config.biBlobAttributeTag):i)try{a=JSON.parse(i)}catch(o){this._traceLogger.throwInternal(K.CRITICAL,Mn.CannotParseBiBlobValue,"Can not parse "+i)}else r=Do(e,this._isTrackedWithDataBi),a=Zn(a,this._populateElementContentwithDataBi(r,e));return Ro(a),this._config.autoCapture.lineage&&t===Ko.PAGE_ACTION&&(a=Zn(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName?Zn(a,this._getParentDetails(n||r,a)):a},$o.prototype.getLineageDetails=function(e){for(var t,n,i,r=[],a=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var c=e.getAttribute(o)||e[o],l=e.getAttribute(s)||e[s];if(c){try{var u=JSON.parse(c)}catch(f){this._traceLogger.throwInternal(K.CRITICAL,Mn.CannotParseDataAttribute,"Can not parse "+c)}u&&(n=u.cN||u.cT,i=u.id||undefined,(n||i)&&(r.push(n),l&&(t=n),a.push(i)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),i=e.getAttribute(this._contentBlobFieldNames.id)||undefined,(n||i)&&(r.push(n),l&&(t=n),a.push(i));e=e.parentElement}return{lineage:r.join(">"),lineageById:a.join(">"),lineageContainerName:t}},$o.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var i=Uo(e,this._contentBlobFieldNames.areaName),r=Zn({},this._getAreaContent(i)),i=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",t=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:r.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:i||e.getAttribute(this._contentBlobFieldNames.contentName)||t||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||r.contentSource,tN:r.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||r.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(K.WARNING,Mn.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var a,o=0;o<e.attributes.length;o++)(a=e.attributes[o]).name!==this._contentBlobFieldNames.id&&a.name!==this._contentBlobFieldNames.areaName&&a.name!==this._contentBlobFieldNames.slotNumber&&a.name!==this._contentBlobFieldNames.contentName&&a.name!==this._contentBlobFieldNames.contentSource&&a.name!==this._contentBlobFieldNames.templateName&&a.name!==this._contentBlobFieldNames.productId&&a.name!==this._contentBlobFieldNames.contentType&&a.name!==this._contentBlobFieldNames.parentId&&a.name!==this._contentBlobFieldNames.parentName&&~a.name.indexOf("data-bi-")&&(n[a.name.replace("data-bi-","")]=a.value);return n},$o.prototype._getMetaDataFromDOM=function(e,t){var n={};if(Hn)for(var i=document.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&(a.name.toLowerCase().indexOf(e)||(n[t?a.name.replace(e,""):a.name]=a.content))}return n},$o.prototype._getAreaContent=function(e){if(e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},$o.prototype._getDefaultContentName=function(e,t){if(!1===t||qo(e)||!e.tagName)return"";var n,i=nt()||{};switch(e.tagName){case"A":n=i.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},$o.prototype._getParentDetails=function(e,t){var n=(this._contentBlobFieldNames.isShortNames?Qo:Jo).parentId,i=(this._contentBlobFieldNames.isShortNames?Qo:Jo).parentName,r=t[n],t=t[i];return r||t||!e?{}:this._populateParentInfo(e,n,i)},$o.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},$o.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-bi-"))return!0;return!1},$o.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||~t[n].name.indexOf("data-bi-"))return!0;return!1},$o.prototype._populateParentInfo=function(e,t,n){var i,r,a={},o=this._config.biBlobAttributeTag,s=Do(e.parentElement,this._isTracked);if(s){if(e=s.getAttribute(o)||e[o]){try{var c=JSON.parse(e)}catch(l){this._traceLogger.throwInternal(K.CRITICAL,Mn.CannotParseDataAttribute,"Can not parse "+e)}c&&(i=c.id,r=c.cN)}else i=s.getAttribute(this._contentBlobFieldNames.id),r=s.getAttribute(this._contentBlobFieldNames.contentName);i&&(a[t]=i),r&&(a[n]=r)}return a},$o);function $o(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?Yo.shortNames:Yo.longNames}var es={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},ts=(ns.prototype.pageView=function(){this._analyticsPlugin.capturePageView({isAuto:!0})},ns.prototype.onLoad=function(){var e=this;Xo(function(){e._analyticsPlugin.capturePageViewPerformance({isAuto:!0}),e._analyticsPlugin.captureContentUpdate({isAuto:!0,isDomComplete:!0})})},ns.prototype.click=function(){var e,t=this,n=tt(),i=nt();n&&n.addEventListener?(e=~navigator.appVersion.indexOf("MSIE")?"click":"mousedown",n.addEventListener(e,function(e){t._processClick(e)},!1),n.addEventListener("keyup",function(e){t._processClick(e)},!1)):i&&i.attachEvent&&(i.attachEvent("onclick",function(e){t._processClick(e)}),i.attachEvent("keyup",function(e){t._processClick(e)}))},ns.prototype.scroll=function(e){var t=this,n=Bo(null,function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:zo.SCROLL})},e.scroll,this);(e=tt())&&(e.addEventListener?e.addEventListener("scroll",n):window.attachEvent&&window.attachEvent("onscroll",n))},ns.prototype.maxScroll=function(t){var e=function(){var e=Wo();t.v=(t.v>e.v?t:e).v},n=tt();n&&(n.addEventListener?n.addEventListener("scroll",e):n.attachEvent&&n.attachEvent("onscroll",e))},ns.prototype.resize=function(e){var t=this,n=Bo(function(){t._analyticsPlugin.captureContentUpdate({isAuto:!0,actionType:zo.RESIZE})},null,e.resize,this);(e=tt())&&(e.addEventListener?e.addEventListener("resize",n):e.attachEvent&&e.attachEvent("onresize",n))},ns.prototype.onUnload=function(){var e=this;ni(function(){e._analyticsPlugin.capturePageUnload({isAuto:!0})})},ns.prototype._processClick=function(e){var t={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},n=tt(),i=(e=e||n.event).srcElement||e.target,r={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},a="which"in(n=e)?3===n.which:"button"in n?2===n.button:void 0;if(a)r.actionType=zo.CLICKRIGHT;else if("which"in(n=e)?1===n.which:"button"in n&&1===n.button)r.actionType=zo.CLICKLEFT;else if("keyCode"in(n=e)&&13===n.keyCode)r.actionType=zo.KEYBOARDENTER;else if("keyCode"in(n=e)&&32===n.keyCode)r.actionType=zo.KEYBOARDSPACE;else{if(!("which"in e?2===e.which:"button"in e&&4===e.button))return;r.actionType=zo.CLICKMIDDLE}for(;i&&i.tagName;){if(t[(i=i.control&&t[i.control.tagName.toUpperCase()]?i.control:i).tagName.toUpperCase()]){"INPUT"==i.tagName.toUpperCase()&&!es[i.type.toUpperCase()]||this._analyticsPlugin.capturePageAction(i,r,{},a);break}i=i.parentElement||i.parentNode}},ns);function ns(e,t){this._analyticsPlugin=e,this._traceLogger=t}function is(e,t,n){var i="";return t&&t[n]?i=t[n]:e&&(i=e[n]),i}function rs(e,t,n,i,r,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=i,this._pageTagsCallback=r,this.metaTags=a,this._traceLogger=o,this._pageTags={}}n.Behavior=void 0,(_t=n.Behavior||(n.Behavior={}))[_t.UNDEFINED=0]="UNDEFINED",_t[_t.NAVIGATIONBACK=1]="NAVIGATIONBACK",_t[_t.NAVIGATION=2]="NAVIGATION",_t[_t.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",_t[_t.APPLY=4]="APPLY",_t[_t.REMOVE=5]="REMOVE",_t[_t.SORT=6]="SORT",_t[_t.EXPAND=7]="EXPAND",_t[_t.REDUCE=8]="REDUCE",_t[_t.CONTEXTMENU=9]="CONTEXTMENU",_t[_t.TAB=10]="TAB",_t[_t.COPY=11]="COPY",_t[_t.EXPERIMENTATION=12]="EXPERIMENTATION",_t[_t.PRINT=13]="PRINT",_t[_t.SHOW=14]="SHOW",_t[_t.HIDE=15]="HIDE",_t[_t.MAXIMIZE=16]="MAXIMIZE",_t[_t.MINIMIZE=17]="MINIMIZE",_t[_t.BACKBUTTON=18]="BACKBUTTON",_t[_t.STARTPROCESS=20]="STARTPROCESS",_t[_t.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",_t[_t.COMPLETEPROCESS=22]="COMPLETEPROCESS",_t[_t.SCENARIOCANCEL=23]="SCENARIOCANCEL",_t[_t.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",_t[_t.DOWNLOAD=41]="DOWNLOAD",_t[_t.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",_t[_t.SEARCH=61]="SEARCH",_t[_t.SEARCHINITIATE=62]="SEARCHINITIATE",_t[_t.TEXTBOXINPUT=63]="TEXTBOXINPUT",_t[_t.PURCHASE=80]="PURCHASE",_t[_t.ADDTOCART=81]="ADDTOCART",_t[_t.VIEWCART=82]="VIEWCART",_t[_t.ADDWISHLIST=83]="ADDWISHLIST",_t[_t.FINDSTORE=84]="FINDSTORE",_t[_t.CHECKOUT=85]="CHECKOUT",_t[_t.REMOVEFROMCART=86]="REMOVEFROMCART",_t[_t.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",_t[_t.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",_t[_t.VIEWCARTPAGE=89]="VIEWCARTPAGE",_t[_t.VIEWPDP=90]="VIEWPDP",_t[_t.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",_t[_t.INTENTTOBUY=92]="INTENTTOBUY",_t[_t.PUSHTOINSTALL=93]="PUSHTOINSTALL",_t[_t.SIGNIN=100]="SIGNIN",_t[_t.SIGNOUT=101]="SIGNOUT",_t[_t.SOCIALSHARE=120]="SOCIALSHARE",_t[_t.SOCIALLIKE=121]="SOCIALLIKE",_t[_t.SOCIALREPLY=122]="SOCIALREPLY",_t[_t.CALL=123]="CALL",_t[_t.EMAIL=124]="EMAIL",_t[_t.COMMUNITY=125]="COMMUNITY",_t[_t.SOCIALFOLLOW=126]="SOCIALFOLLOW",_t[_t.VOTE=140]="VOTE",_t[_t.SURVEYINITIATE=141]="SURVEYINITIATE",_t[_t.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",_t[_t.REPORTAPPLICATION=143]="REPORTAPPLICATION",_t[_t.REPORTREVIEW=144]="REPORTREVIEW",_t[_t.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",_t[_t.CONTACT=160]="CONTACT",_t[_t.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",_t[_t.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",_t[_t.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",_t[_t.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",_t[_t.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",_t[_t.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",_t[_t.CHATINITIATE=180]="CHATINITIATE",_t[_t.CHATEND=181]="CHATEND",_t[_t.TRIALSIGNUP=200]="TRIALSIGNUP",_t[_t.TRIALINITIATE=201]="TRIALINITIATE",_t[_t.SIGNUP=210]="SIGNUP",_t[_t.FREESIGNUP=211]="FREESIGNUP",_t[_t.PARTNERREFERRAL=220]="PARTNERREFERRAL",_t[_t.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",_t[_t.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",_t[_t.SHOPPINGINTENT=232]="SHOPPINGINTENT",_t[_t.VIDEOSTART=240]="VIDEOSTART",_t[_t.VIDEOPAUSE=241]="VIDEOPAUSE",_t[_t.VIDEOCONTINUE=242]="VIDEOCONTINUE",_t[_t.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",_t[_t.VIDEOJUMP=244]="VIDEOJUMP",_t[_t.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",_t[_t.VIDEOBUFFERING=246]="VIDEOBUFFERING",_t[_t.VIDEOERROR=247]="VIDEOERROR",_t[_t.VIDEOMUTE=248]="VIDEOMUTE",_t[_t.VIDEOUNMUTE=249]="VIDEOUNMUTE",_t[_t.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",_t[_t.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",_t[_t.VIDEOREPLAY=252]="VIDEOREPLAY",_t[_t.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",_t[_t.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",_t[_t.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",_t[_t.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",_t[_t.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",_t[_t.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",_t[_t.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",_t[_t.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",_t[_t.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",_t[_t.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",_t[_t.IMPRESSION=280]="IMPRESSION",_t[_t.CLICK=281]="CLICK",_t[_t.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",_t[_t.ADBUFFERING=283]="ADBUFFERING",_t[_t.ADERROR=284]="ADERROR",_t[_t.ADSTART=285]="ADSTART",_t[_t.ADCOMPLETE=286]="ADCOMPLETE",_t[_t.ADSKIP=287]="ADSKIP",_t[_t.ADTIMEOUT=288]="ADTIMEOUT",_t[_t.OTHER=300]="OTHER",rs.prototype._setBasicProperties=function(e,t){var n;e.ver="1.0",e.id=this._id.getLastPageViewId(),zn(e.name)||(e.name=(n=this._config,t&&t.pageName?t.pageName:n.callback&&"function"==typeof n.callback.pageName?n.callback.pageName():n.coreData&&n.coreData.pageName?n.coreData.pageName:t=(n=(t=(at()||{}).pathname||"").split("/"))&&""!==n[n.length-1]?n[n.length-1]:"Undefined")),!zn(e.uri)&&Kn&&(e.uri=(t=this._config,e=at(),t.coreData&&t.coreData.requestUri&&""!==t.coreData.requestUri?t.coreData.requestUri:function(e,t){if(!t)return null;var n,i,r,a=t.protocol+"//"+(t.hostname||t.host)+(zn(t.port)?":"+t.port:"")+t.pathname;return e.urlCollectQuery&&((n=t.search)||-1!=(r=(i=t.hash||"").indexOf("?"))&&(n=i.slice(r)),a+=n),e.urlCollectHash&&(a+=t.hash||""),a}(t,e)))},rs.prototype._setCommonProperties=function(e,t,n){var i=this;i._setBasicProperties(e,n),i._setPageTags(e,n),i._pageTypeMetaTag=is(i.metaTags,i._config.coreData,"pageType"),i._marketMetaTag=is(i.metaTags,i._config.coreData,"market"),i._behaviorMetaTag=is(i.metaTags,i._config.coreData,"behavior"),zn(n.pageType)&&(e.pageType=n.pageType),zn(i._pageTypeMetaTag)&&!zn(e.pageType)&&(e.pageType=i._pageTypeMetaTag),zn(i._marketMetaTag)&&(e.market=i._marketMetaTag),e.isLoggedIn=(i=i._config).callback&&"function"==typeof i.callback.signedinStatus?i.callback.signedinStatus():i.isLoggedIn,t.cookieEnabled=on()},rs.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},se(n.metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)})),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=Zn(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=Zn(!0,n._pageTags,n._pageTagsCallback())),zn(t.pageTags)&&(n._pageTags=Zn(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},rs.prototype._getBehavior=function(e){var t;return e&&zn(e.behavior)?t=e.behavior:zn(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},rs.prototype._getValidBehavior=function(e){if(zn(e)){var t=parseInt(e);if((t=isNaN(t)?n.Behavior[e]:t)in n.Behavior)return t}return 0};var as,os=(h(ss,as=_t=rs),ss.prototype.capturePageView=function(e,t){e=zn(e)?e:{};var n={},i=zn(t)?t:{};this._setCommonProperties(n,i,e),n.refUri=(zn(e.referrerUri)?e:this._config.coreData).referrerUri,n.isManual=!e.isAuto,(t=jo(this._config,this._traceLogger))&&(i.cookies=t),i.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,i)},ss);function ss(){return null!==as&&as.apply(this,arguments)||this}var cs,ls=(h(us,cs=_t),us.prototype.trackPageAction=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var i={name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:Ln.Normal};ee(e.sync)||(i.sync=e.sync),i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.actionType=e.actionType,i.baseData.behavior=e.behavior,i.baseData.clickCoordinates=e.clickCoordinates,i.baseData.content=e.content,i.baseData.contentVer=e.contentVer,i.baseData.targetUri=e.targetUri,se(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},us.prototype.capturePageAction=function(e,t,n,i){t=zn(t)?t:{};var r={},a=zn(n)?n:{};this._setCommonProperties(r,a,t),r.isManual=!t.isAuto,r.behavior=this._getBehavior(t);var o,s,n={};i?r.behavior=9:(s=this._config||{},(e&&ee(s.syncPageActionNavClick)||s.syncPageActionNavClick)&&(t.actionType!==zo.CLICKLEFT&&t.actionType!==zo.KEYBOARDENTER||"a"!=e.tagName.toLowerCase()||(o=(e.getAttribute("href")||"").toLowerCase())&&(le(o,"https:")||le(o,"http:")||le(o,".")||le(o,"/"))&&(r.sync=3))),e&&(r.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=function(e){if((e=e&&Do(e,Lo))&&1===e.length){if(e[0].href)return e[0].href;if(e[0].src)return e[0].src}return""}(e);break;case"INPUT":var n=e.type;n&&Go[n.toUpperCase()]&&(n=at()||{},t=e.form?e.form.action||n.pathname||"":n.pathname||"")}return t}(e),(n=Zn(n=this._contentHandler.getElementContent(e,Ko.PAGE_ACTION),this._getCustomTags(e)))&&n.bhvr&&!zn(t.behavior)&&(s="bhvr",(o=n)&&o[s]&&(c=o[s],delete o[s]),r.behavior=this._getValidBehavior(c))),zn(t.actionType)&&(r.actionType=t.actionType),zn(t.clickCoordinateX)&&zn(t.clickCoordinateY)&&(r.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),zn(t.targetUri)&&(r.targetUri=t.targetUri),r.contentVer="2.0";var c=this._config.callback.pageActionContentTags;r.content=Fo(JSON.stringify(Zn(t.content||n,"function"==typeof c?c(e):{},t&&t.contentTags?t.contentTags:{}))),a.timeToAction=this._getTimeToClick(),a.refUri=zn(t.refUri)?t.refUri:this._config.coreData.referrerUri,(t=jo(this._config,this._traceLogger))&&(a.cookies=t),this.trackPageAction(r,a)},us.prototype._getCustomTags=function(e){for(var t,n={};e;){if(!qo(e))for(var i in e.attributes)i&&(!e.attributes[i]||(t=e.attributes[i].name)&&(t.toLowerCase().indexOf("ms.")||(n[t]=e.attributes[i].value)));e=e.parentElement||e.parentNode}return n},us.prototype._getTimeToClick=function(){var e=ot();return e&&e.timing&&(e=e.timing.navigationStart)&&0!==e?(new Date).getTime()-e:-1},us);function us(){return null!==cs&&cs.apply(this,arguments)||this}var fs,ps=(h(ds,fs=_t),ds.prototype.trackContentUpdate=function(t,e){var n={web:{}};n.web.isManual=t.isManual;var i={name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:Ln.RealTime};ye(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(e){i.baseData[e]=t[e]}),se(e,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},ds.prototype.captureContentUpdate=function(e,t){e=zn(e)?e:{};var n={},i=zn(t)?t:{};this._setCommonProperties(n,i,e),n.behavior=this._getBehavior(e),zn(e.actionType)&&(n.actionType=e.actionType);var r=Ho(),t=Wo();n.pageHeight=Hn?document.body.scrollHeight:null,n.vpHeight=r.h,n.vpWidth=r.w,n.vScrollOffset=t.v,n.hScrollOffset=t.h,n.contentVer="2.0",n.isManual=!e.isAuto,(t=this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent()))&&(n.content=t),zn(e.isDomComplete)?i.isDomComplete=e.isDomComplete:i.isDomComplete=!1,this.trackContentUpdate(n,i)},ds.prototype._getContentFormatted=function(e){return zn(e)?"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):Fo(JSON.stringify(e)):undefined},ds);function ds(){return null!==fs&&fs.apply(this,arguments)||this}var gs,hs=(h(ms,gs=_t),ms.prototype.trackPageUnload=function(e,t){var n={web:{}};n.web.isManual=e.isManual;var i={name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:Ln.RealTime};(ee((n=this._config||{}).syncUnloadAction)||n.syncUnloadAction)&&(i.sync=3),i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,se(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},ms.prototype.capturePageUnload=function(e,t){e=zn(e)?e:{};var n={},i=zn(t)?t:{},t=Hn?document.body.scrollHeight:0;this._setBasicProperties(n,e),n.isManual=!e.isAuto,i.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),i.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+t.toString(),i.vpHeight=Ho().h,i.vScrollOffset=e.vScrollOffset||this._maxScroll.v,!Kn||(e=(e=ot())?e.timing:null)&&e.loadEventStart&&e.navigationStart&&0<e.loadEventStart&&(i.pageLoadTime=e.loadEventStart-e.navigationStart),this.trackPageUnload(n,i)},ms);function ms(e,t,n,i,r,a){var o=gs.call(this,e,t,null,n,{},{},i)||this;return o._webAnalyticsPlugin=e,o._config=t,o._id=n,o._traceLogger=i,o._timestamp=r,o._maxScroll=a,o}var vs,ys=(h(Is,vs=_t),Is.prototype.capturePageViewPerformance=function(e,t){e=zn(e)?e:{};var n={},t=zn(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,t.behavior=this._getBehavior(e),t.vpHeight=e.vpHeight,t.vpWidth=e.vpWidth,t.framework=e.framework,t.systemTiming=e.systemTiming,t.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,t)},Is);function Is(){return null!==vs&&vs.apply(this,arguments)||this}function Ts(e){this.core=e,this.appUserId=null,this.firstPageView=!1,this._cookieMgr=rn(e),this.lastPageViewId=Qn(),this.traceId=this.createTraceId()}var Cs=(Ts.visitorId=function(){return Jn(rn(null),"MUID")},Ts.prototype.createTraceId=function(){return Qn().replace(/-/g,"")},Ts.prototype.getTraceId=function(){return this.traceId},Ts.prototype.getLastPageViewId=function(){return this.lastPageViewId},Ts.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=Qn()):this.firstPageView=!0},Ts.prototype.getMuidUserId=function(){var e=Jn(this._cookieMgr,"MUID");return e&&e.length?"t:"+e:e},Ts.prototype.setAppUserId=function(e){if(this.appUserId=null,e){for(var t=0;t<Ts.userIdPrefixes.length;t++)if(Ts.userIdPrefixes[t]===e.substring(0,2)){this.appUserId=e;break}this.appUserId}},Ts.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},Ts.prototype.getDeviceClass=function(){return this.deviceClass},Ts.prototype.getAppUserId=function(){return this.appUserId},Ts.prototype.syncMuid=function(e){var t=at();return!(!t||!e||(t=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",(e=nt())&&((e=e.createElement("IMG")).style.display="none",e.src=t,e.hidden="",e["aria-hidden"]="true",e.role="presentation"),0))},Ts.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},Ts.userIdPrefixes=["c:","i:","w:"],Ts);function Es(){this._timers=[]}var bs,Ns=(Es.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n},Es),Ss=(h(ws,bs=Lr),ws);function ws(){var l,u,f,p,d,g,h,m=bs.call(this)||this;m.identifier="WebAnalyticsPlugin",m.version="3.1.7";var v,y,I,T={h:0,v:0},i=!1;return q(ws,m,function(s,c){function n(e){var t={};return e.isManual!==undefined&&(t.web={},t.web.isManual=e.isManual===undefined||e.isManual,delete e.isManual),t}s._telemetryInitializers=s._telemetryInitializers||[],s.updateCoreDataConfig=function(e){h.coreData=Zn(!0,h.coreData,e)},s.refreshMetadata=function(){var e=y.getMetadata();l.metaTags=e,f.metaTags=e,u.metaTags=e,d.metaTags=e},s.initialize=function(e,t,n){var i=t;e.extensionConfig=e.extensionConfig||[],e.extensionConfig[s.identifier]=e.extensionConfig[s.identifier]||{},s._config=h=function(e){var n,t,i={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:Hn?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},r=[];if(se(i,function(e,t){re(t)&&r.push(e)}),e)return t=r,Ro(n=e),ye(t,function(e,t){re(n[e])?Ro(n[e]):delete n[e]}),Zn(!0,i,e)}(e.extensionConfig[s.identifier]);var r=h.autoCapture,a=i.getWParam;if(i.getWParam=function(){var e=0;return h.mscomCookies&&(e|=1),e|a()},e.extensionConfig[s.identifier].disableExceptionTracking=!r.jsError,c.initialize(e,t,n),y=y||new Zo(h,s.diagLog()),I=I||new ts(s,s.diagLog()),h.manageCv){for(var o=0;o<n.length;o++)if("CorrelationVectorPlugin"===n[o].identifier){h.manageCv=!0,g=n[o];break}g||(s.diagLog().throwInternal(K.WARNING,Mn.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),h.manageCv=!1)}s.id=new Cs(t),v=new Ns,t=y.getMetadata(),l=new os(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),u=new ls(m,h,y,s.id,h.callback.pageActionPageTags,t,s.diagLog()),f=new ps(m,h,y,s.id,h.callback.contentUpdatePageTags,t,s.diagLog()),p=new hs(m,h,s.id,s.diagLog(),v,T),d=new ys(m,h,y,s.id,h.callback.pageViewPageTags,t,s.diagLog()),h.syncMuid&&Xo(function(){var e=s.id.getMuidHost(h.muidDomain);s.id.syncMuid(e)}),r.pageView&&I.pageView(),r.onLoad&&I.onLoad(),r.click&&I.click(),r.scroll&&I.scroll(h.debounceMs),r.resize&&I.resize(h.debounceMs),(r.onUnload||h.manualPageUnload)&&I.maxScroll(T),r.onUnload&&I.onUnload()},s.processTelemetry=function(e,t){ii(e,s.identifier);var n=e;"PageviewData"===n.baseType?(n.name="Ms.Web.PageView",n.latency=Ln.RealTime):"ExceptionData"===n.baseType?(n.name="Ms.Web.ClientError",n.latency=Ln.Normal,delete n.baseData.aiDataContract):"PageviewPerformanceData"===n.baseType&&(n.name="Ms.Web.PageViewPerformance",n.latency=Ln.Normal,delete n.baseData.isValid,delete n.baseData.durationMs),e=null,"PageviewData"!==n.baseType?h.manageCv&&(e=g.getCv())&&e.increment():h.manageCv&&((e=g.getCv())?e.seed():e=g.getCv());for(var i=!1,r=s._telemetryInitializers.length,a=0;a<r;++a){var o=s._telemetryInitializers[a];if(o&&!1===o.call(null,n)){i=!0;break}}i||s.processNext(n,t)},s.addTelemetryInitializer=function(e){s._telemetryInitializers.push(e)},s.trackEvent=function(n,e){n.latency=n.latency||Ln.Normal,n.baseData=n.baseData||{},n.data=n.data||{},zn(e)&&se(e,function(e,t){n.data[e]=t}),s.core.track(n)},s.trackPageView=function(e,t){v._recordTimeSpan("dwellTime",!1),T.v=0,i=!1,s.id.initializeIds(),e.id=s.id.getLastPageViewId(),c.sendPageViewInternal(e,t,n(e))},s.capturePageView=function(e,t){l.capturePageView(e,t)},s.trackPageViewPerformance=function(e,t){c.sendPageViewPerformanceInternal(e,t,n(e))},s.capturePageViewPerformance=function(e,t){d.capturePageViewPerformance(e,t)},s.trackException=function(e,t){e.id=e.id||Qn(),c.sendExceptionInternal(e,t,n(e))},s.trackPageAction=function(e,t){u.trackPageAction(e,t)},s.capturePageAction=function(e,t,n,i){var r=e;t&&t.isAuto&&zn(Uo(r,"data-bi-mto"))||Mo(r)||u.capturePageAction(e,t,n,i)},s.trackContentUpdate=function(e,t){f.trackContentUpdate(e,t)},s.captureContentUpdate=function(e,t){f.captureContentUpdate(e,t)},s.trackPageUnload=function(e,t){i||(i=!0,p.trackPageUnload(e,t))},s.capturePageUnload=function(e,t){i||(i=!0,p.capturePageUnload(e,t))},s._populatePageViewPerformance=function(e){s._pageViewPerformanceManager.populatePageViewPerformanceEvent(e)},s.setContentHandler=function(e){y=e},s.setAutoCaptureHandler=function(e){I=e}}),m}var As,Ps=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],xs=(h(_s,As=pi),_s.prototype.initialize=function(a,o){var s=this,c=this;Nt(c,function(){return"ApplicationInsights:initialize"},function(){var e=[c._propertyManager,c._webAnalytics];if(o&&(e=e.concat(o)),a.channels&&0<a.channels.length){for(var t=!1,n=0;n<a.channels[0].length;n++)if(a.channels[0][n].identifier===c._postChannel.identifier){t=!0;break}t||a.channels[0].push(c._postChannel)}else a.channels=[[c._postChannel]];var i=a.extensionConfig=a.extensionConfig||[];i[c._postChannel.identifier]=a?a.channelConfiguration:{},i[c._propertyManager.identifier]=a?a.propertyConfiguration:{},i[c._webAnalytics.identifier]=a?a.webAnalyticsConfiguration:{};try{As.prototype.initialize.call(s,a,e)}catch(r){c.logger.throwInternal(K.CRITICAL,Mn.FailedToInitializeSDK,"Failed to initialize SDK."+r)}},function(){return{config:a,extensions:o}})},_s.prototype.getPropertyManager=function(){return this._propertyManager},_s.prototype.getPostChannel=function(){return this._postChannel},_s.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},_s.prototype.addTelemetryInitializer=function(e){this._webAnalytics.addTelemetryInitializer(e)},_s.prototype.trackEvent=function(e,t){this._webAnalytics.trackEvent(e,t)},_s.prototype.trackPageView=function(e,t){this._webAnalytics.trackPageView(e,t)},_s.prototype.trackPageAction=function(e,t){this._webAnalytics.trackPageAction(e,t)},_s.prototype.trackContentUpdate=function(e,t){this._webAnalytics.trackContentUpdate(e,t)},_s.prototype.trackPageUnload=function(e,t){this._webAnalytics.trackPageUnload(e,t)},_s.prototype.trackException=function(e,t){this._webAnalytics.trackException(e,t)},_s.prototype.trackPageViewPerformance=function(e,t){this._webAnalytics.trackPageViewPerformance(e,t)},_s.prototype.capturePageView=function(e,t){this._webAnalytics.capturePageView(e,t)},_s.prototype.capturePageViewPerformance=function(e,t){this._webAnalytics.capturePageViewPerformance(e,t)},_s.prototype.capturePageAction=function(e,t,n,i){this._webAnalytics.capturePageAction(e,t,n,i)},_s.prototype.captureContentUpdate=function(e,t){this._webAnalytics.captureContentUpdate(e,t)},_s.prototype.capturePageUnload=function(e,t){this._webAnalytics.capturePageUnload(e,t)},_s.prototype._onerror=function(e){this._webAnalytics._onerror(e)},_s.prototype.emptySnippetQueue=function(n){try{if(n&&(te(this._snippetVersion)||this._snippetVersion,se(this,function(e,t){ge(e)&&!ae(t)&&e&&"_"!==e[0]&&!~Ps.indexOf(e)&&(n[e]=t)})),pe(n.queue)){for(var e=n.queue.length,t=0;t<e;t++)(0,n.queue[t])();n.queue=undefined,delete n.queue}}catch(i){i&&ae(i.toString)&&i.toString()}},_s.prototype.updateSnippetDefinitions=function(e){this.snippet=e,this._snippetVersion=""+(e.sv||e.version||""),De(e,this,function(e){return e&&!~Ps.indexOf(e)})},_s);function _s(){var e=As.call(this)||this;return e._postChannel=new Jr,e._propertyManager=new Tr,e._webAnalytics=new Ss,e}!function(){try{var e,t,n,i=l();i&&i[n=i.onedsSDK||"oneDSWeb"]!==undefined&&(e=i[n],(t=new xs).updateSnippetDefinitions(e),t.initialize(e.config,e.extensions),(i[n]=t).emptySnippetQueue(e))}catch(r){console&&console.warn("Failed to initialize AppInsights JS SDK for instance "+n+r.message)}}(),n.ActionType=zo,n.AppInsightsCore=pi,n.ApplicationInsights=xs,n.BE_PROFILE=Er,n.BaseCore=e,n.CoreUtils=si,n.DiagnosticLogger=It,n.EventLatency=Ln,n.EventPersistence={Normal:1,Critical:2},n.EventsDiscardedReason=z,n.MinChannelPriorty=100,n.NRT_PROFILE=mn,n.NotificationManager=hn,n.PostChannel=Jr,n.PropertiesPlugin=Tr,n.RT_PROFILE=Cr,n.TraceLevel={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},n.Utils=oi,n.ValueKind=Dn,n.WebAnalytics=Ss,function(e,t,n){var i=Object.defineProperty;if(i)try{return i(e,t,n)}catch(r){}typeof n.value!==undefined&&(e[t]=n.value)}(n,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{});
//# sourceMappingURL=ms.analytics-web-3.1.7.min.js.map
